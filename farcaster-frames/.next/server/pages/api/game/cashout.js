(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[847],{67:e=>{"use strict";e.exports=require("node:async_hooks")},195:e=>{"use strict";e.exports=require("node:buffer")},962:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i}),s(639);var o=s(458),n=s(161),r=s(278);async function a(e){if("POST"!==e.method)return new Response(JSON.stringify({success:!1,error:"Method not allowed"}),{status:405,headers:{"Content-Type":"application/json"}});try{let{fid:t,betId:s,multiplier:o}=await e.json();if(!t||!s||!o)return new Response(JSON.stringify({success:!1,error:"Missing required fields: fid, betId, multiplier"}),{status:400,headers:{"Content-Type":"application/json"}});if(o<1)return new Response(JSON.stringify({success:!1,error:"Invalid multiplier"}),{status:400,headers:{"Content-Type":"application/json"}});let n=10*o,r={success:!0,data:{betId:s,winAmount:parseFloat(n.toFixed(2)),multiplier:parseFloat(o.toFixed(2)),newBalance:parseFloat((1e3+n).toFixed(2)),betAmount:10,cashedOutAt:new Date().toISOString()},message:`Congratulations! You won ${n.toFixed(2)} with ${o.toFixed(2)}x multiplier!`};return console.log("Cash out processed:",{fid:t,betId:s,multiplier:o,winAmount:n,timestamp:new Date().toISOString()}),new Response(JSON.stringify(r),{status:200,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}catch(e){return console.error("Cash out error:",e),new Response(JSON.stringify({success:!1,error:"Cash out failed"}),{status:500,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}}function i(e){return(0,o.C)({...e,IncrementalCache:n.k,page:"/api/game/cashout",handler:(0,r.fd)("/api/game/cashout",a)})}}},e=>{var t=t=>e(e.s=t);e.O(0,[730],()=>t(962));var s=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_pages/api/game/cashout"]=s}]);
//# sourceMappingURL=cashout.js.map