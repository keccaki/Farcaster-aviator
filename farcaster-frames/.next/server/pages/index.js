(()=>{var e={};e.id=405,e.ids=[405,888,660],e.modules={323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},666:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>b,default:()=>m,getServerSideProps:()=>g,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>j});var a={};s.r(a),s.d(a,{default:()=>x});var r=s(93),i=s(244),n=s(323),l=s(899),c=s.n(l),d=s(352),o=s(997),u=s(689);function x(){let[e,t]=(0,u.useState)({status:"waiting",multiplier:1,roundId:"",currentBets:[],isLoading:!0}),[s,a]=(0,u.useState)(1e3),[r,i]=(0,u.useState)(10),n=async()=>{try{let e=await fetch("/api/game/state"),s=await e.json();s.success&&t({...s.data,isLoading:!1})}catch(e){console.error("Failed to fetch game state:",e),t(e=>({...e,isLoading:!1}))}},l=async()=>{try{let t=await fetch("/api/game/bet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fid:12345,amount:r,roundId:e.roundId})}),s=await t.json();s.success&&(a(s.data.newBalance),await n(),console.log("Bet placed successfully:",s.data))}catch(e){console.error("Failed to place bet:",e)}},c=async()=>{try{let t=await fetch("/api/game/cashout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fid:12345,betId:`bet_12345_${e.roundId}`,multiplier:e.multiplier})}),s=await t.json();s.success&&(a(s.data.newBalance),await n(),console.log("Cash out successful:",s.data))}catch(e){console.error("Failed to cash out:",e)}};return e.isLoading?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:o.jsx("div",{className:"text-white text-xl",children:"Loading game..."})}):(0,o.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white",children:[(0,o.jsxs)("div",{className:"text-center py-8",children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",children:"\uD83D\uDE80 AVIATOR CRASH GAME"}),o.jsx("p",{className:"text-slate-300",children:"by keccak"})]}),(0,o.jsxs)("div",{className:"text-center mb-8",children:[o.jsx("div",{className:`text-6xl font-bold mb-4 ${(()=>{switch(e.status){case"flying":return"text-yellow-400";case"crashed":return"text-red-400";default:return"text-green-400"}})()}`,children:(()=>{switch(e.status){case"flying":return"\uD83D\uDE80 FLYING!";case"crashed":return"\uD83D\uDCA5 CRASHED!";default:return"✈️ Ready to Fly!"}})()}),"flying"===e.status&&(0,o.jsxs)("div",{className:"text-5xl font-bold text-orange-400 mb-2",children:[e.multiplier.toFixed(2),"x"]}),"crashed"===e.status&&(0,o.jsxs)("div",{className:"text-3xl text-red-400 mb-2",children:["Crashed at ",e.multiplier.toFixed(2),"x"]})]}),o.jsx("div",{className:"text-center mb-8",children:(0,o.jsxs)("p",{className:"text-slate-300 text-lg",children:["waiting"===e.status&&"Place your bet and watch the multiplier climb!","flying"===e.status&&"Cash out before the crash!","crashed"===e.status&&"Next round starting soon..."]})}),o.jsx("div",{className:"bg-slate-800 mx-4 rounded-lg p-6 mb-8",children:(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,o.jsxs)("div",{children:[o.jsx("div",{className:"text-slate-400",children:"Your Balance"}),(0,o.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:["$",s]})]}),(0,o.jsxs)("div",{children:[o.jsx("div",{className:"text-slate-400",children:"Round ID"}),o.jsx("div",{className:"text-lg",children:e.roundId.slice(-8)})]})]})}),o.jsx("div",{className:"px-4 mb-8",children:(0,o.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,o.jsxs)("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-slate-400 mb-2",children:"Bet Amount"}),(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"number",value:r,onChange:e=>i(Math.max(1,parseInt(e.target.value)||1)),className:"flex-1 bg-slate-700 text-white px-4 py-3 rounded-lg text-lg",min:"1",max:s}),o.jsx("span",{className:"text-slate-400",children:"$"})]})]}),(0,o.jsxs)("div",{className:"space-y-3",children:["waiting"===e.status&&(0,o.jsxs)("button",{onClick:l,disabled:r>s,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-bold py-4 px-6 rounded-lg text-lg transition-colors",children:["\uD83C\uDFAE Place Bet $",r]}),"flying"===e.status&&(0,o.jsxs)("button",{onClick:c,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 px-6 rounded-lg text-lg animate-pulse transition-colors",children:["\uD83D\uDCB8 Cash Out at ",e.multiplier.toFixed(2),"x"]}),"crashed"===e.status&&o.jsx("button",{onClick:n,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg text-lg transition-colors",children:"\uD83D\uDE80 Wait for Next Round"})]})]})}),e.currentBets&&e.currentBets.length>0&&o.jsx("div",{className:"px-4 mb-8",children:(0,o.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Active Bets"}),o.jsx("div",{className:"space-y-2",children:e.currentBets.map((e,t)=>(0,o.jsxs)("div",{className:"flex justify-between items-center bg-slate-700 px-4 py-2 rounded",children:[o.jsx("span",{children:e.username}),(0,o.jsxs)("span",{className:"font-bold",children:["$",e.amount]})]},t))})]})}),o.jsx("div",{className:"text-center py-8 text-slate-500",children:o.jsx("p",{children:"Powered by Farcaster Mini Apps"})})]})}require("@farcaster/miniapp-sdk");let m=(0,n.l)(a,"default"),p=(0,n.l)(a,"getStaticProps"),h=(0,n.l)(a,"getStaticPaths"),g=(0,n.l)(a,"getServerSideProps"),b=(0,n.l)(a,"config"),f=(0,n.l)(a,"reportWebVitals"),j=(0,n.l)(a,"unstable_getStaticProps"),v=(0,n.l)(a,"unstable_getStaticPaths"),y=(0,n.l)(a,"unstable_getStaticParams"),P=(0,n.l)(a,"unstable_getServerProps"),N=(0,n.l)(a,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:a})},352:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(997);let r=require("next/head");var i=s.n(r);function n({Component:e,pageProps:t}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[a.jsx("title",{children:"Aviator Crash Game"}),a.jsx("meta",{name:"description",content:"Play the thrilling Aviator crash game directly in Farcaster"}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),a.jsx("link",{rel:"icon",href:"/icon.svg"}),a.jsx("meta",{property:"fc:miniapp",content:"true"}),a.jsx("meta",{property:"fc:miniapp:name",content:"Aviator Crash Game"}),a.jsx("meta",{property:"fc:miniapp:icon",content:"https://farcaster-aviator.vercel.app/icon.svg"}),a.jsx("meta",{property:"fc:miniapp:splash",content:"https://farcaster-aviator.vercel.app/splash.svg"}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"})]}),a.jsx(e,{...t})]})}s(764)},764:()=>{},244:(e,t)=>{"use strict";var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},17:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[899],()=>s(666));module.exports=a})();