(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{557:function(e,t,r){"use strict";let i,n;r.d(t,{SZ:function(){return rU}});class s extends Error{name="BaseError";cause;constructor(e,t={}){super(e,t.cause?{cause:t.cause}:void 0),this.cause=t.cause}}class o extends s{name="AddMiniApp.InvalidDomainManifest";constructor(){super("Invalid domain manifest")}}class a extends s{name="AddMiniApp.RejectedByUser";constructor(){super("Add miniapp rejected by user")}}class u extends s{name="SignIn.RejectedByUser";constructor(){super("Sign in rejected by user")}}class l extends s{name="SignManifest.RejectedByUser";constructor(){super("Sign manifest rejected by user")}}class h extends s{name="SignManifest.InvalidDomain";constructor(){super("Invalid domain provided")}}class f extends s{name="SignManifest.GenericError";constructor(e="Manifest signing failed"){super(e)}}(v=b||(b={})).assertEqual=e=>{},v.assertIs=function(e){},v.assertNever=function(e){throw Error()},v.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},v.getValidEnumValues=e=>{let t=v.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let i of t)r[i]=e[i];return v.objectValues(r)},v.objectValues=e=>v.objectKeys(e).map(function(t){return e[t]}),v.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},v.find=(e,t)=>{for(let r of e)if(t(r))return r},v.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,v.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},v.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(w||(w={})).mergeShapes=(e,t)=>({...e,...t});let c=b.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),d=e=>{switch(typeof e){case"undefined":return c.undefined;case"string":return c.string;case"number":return Number.isNaN(e)?c.nan:c.number;case"boolean":return c.boolean;case"function":return c.function;case"bigint":return c.bigint;case"symbol":return c.symbol;case"object":if(Array.isArray(e))return c.array;if(null===e)return c.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return c.promise;if("undefined"!=typeof Map&&e instanceof Map)return c.map;if("undefined"!=typeof Set&&e instanceof Set)return c.set;if("undefined"!=typeof Date&&e instanceof Date)return c.date;return c.object;default:return c.unknown}},p=b.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class m extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof m))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,b.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}m.create=e=>new m(e);var g,y,v,b,w,_,E,x=(e,t)=>{let r;switch(e.code){case p.invalid_type:r=e.received===c.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case p.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,b.jsonStringifyReplacer)}`;break;case p.unrecognized_keys:r=`Unrecognized key(s) in object: ${b.joinValues(e.keys,", ")}`;break;case p.invalid_union:r="Invalid input";break;case p.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${b.joinValues(e.options)}`;break;case p.invalid_enum_value:r=`Invalid enum value. Expected ${b.joinValues(e.options)}, received '${e.received}'`;break;case p.invalid_arguments:r="Invalid function arguments";break;case p.invalid_return_type:r="Invalid function return type";break;case p.invalid_date:r="Invalid date";break;case p.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:b.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case p.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case p.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case p.custom:r="Invalid input";break;case p.invalid_intersection_types:r="Intersection results could not be merged";break;case p.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case p.not_finite:r="Number must be finite";break;default:r=t.defaultError,b.assertNever(e)}return{message:r}};(g=_||(_={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},g.toString=e=>"string"==typeof e?e:e?.message;let M=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,s=[...r,...n.path||[]],o={...n,path:s};if(void 0!==n.message)return{...n,path:s,message:n.message};let a="";for(let e of i.filter(e=>!!e).slice().reverse())a=e(o,{data:t,defaultError:a}).message;return{...n,path:s,message:a}};function A(e,t){let r=M({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,x,x==x?void 0:x].filter(e=>!!e)});e.common.issues.push(r)}class k{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return O;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return k.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:n}=i;if("aborted"===t.status||"aborted"===n.status)return O;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||i.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let O=Object.freeze({status:"aborted"}),B=e=>({status:"dirty",value:e}),S=e=>({status:"valid",value:e}),I=e=>"aborted"===e.status,R=e=>"dirty"===e.status,T=e=>"valid"===e.status,U=e=>"undefined"!=typeof Promise&&e instanceof Promise;class N{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let P=(e,t)=>{if(T(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new m(e.common.issues);return this._error=t,this._error}}};function j(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??n.defaultError}:void 0===n.data?{message:s??i??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:s??r??n.defaultError}},description:n}}class L{get description(){return this._def.description}_getType(e){return d(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:d(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new k,ctx:{common:e.parent.common,data:e.data,parsedType:d(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(U(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:d(e)},i=this._parseSync({data:e,path:r.path,parent:r});return P(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:d(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return T(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>T(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:d(e)},i=this._parse({data:e,path:r.path,parent:r});return P(r,await (U(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let n=e(t),s=()=>i.addIssue({code:p.custom,...r(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(s(),!1)):!!n||(s(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new eI({schema:this,typeName:E.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eR.create(this,this._def)}nullable(){return eT.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ed.create(this)}promise(){return eS.create(this,this._def)}or(e){return em.create([this,e],this._def)}and(e){return ev.create(this,e,this._def)}transform(e){return new eI({...j(this._def),schema:this,typeName:E.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eU({...j(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:E.ZodDefault})}brand(){return new ej({typeName:E.ZodBranded,type:this,...j(this._def)})}catch(e){return new eN({...j(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:E.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eL.create(this,e)}readonly(){return eC.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let C=/^c[^\s-]{8,}$/i,Z=/^[0-9a-z]+$/,F=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,D=/^[a-z0-9_-]{21}$/i,q=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,z=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,V=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,H=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,K=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,W=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,J=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Y=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,X="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Q=RegExp(`^${X}$`);function ee(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}class et extends L{_parse(e){var t,r,n,s;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==c.string){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.string,received:t.parsedType}),O}let a=new k;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(A(o=this._getOrReturnCtx(e,o),{code:p.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),a.dirty());else if("max"===u.kind)e.data.length>u.value&&(A(o=this._getOrReturnCtx(e,o),{code:p.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),a.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(o=this._getOrReturnCtx(e,o),t?A(o,{code:p.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&A(o,{code:p.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),a.dirty())}else if("email"===u.kind)V.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"email",code:p.invalid_string,message:u.message}),a.dirty());else if("emoji"===u.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:p.invalid_string,message:u.message}),a.dirty());else if("uuid"===u.kind)$.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:p.invalid_string,message:u.message}),a.dirty());else if("nanoid"===u.kind)D.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:p.invalid_string,message:u.message}),a.dirty());else if("cuid"===u.kind)C.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:p.invalid_string,message:u.message}),a.dirty());else if("cuid2"===u.kind)Z.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:p.invalid_string,message:u.message}),a.dirty());else if("ulid"===u.kind)F.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:p.invalid_string,message:u.message}),a.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{A(o=this._getOrReturnCtx(e,o),{validation:"url",code:p.invalid_string,message:u.message}),a.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"regex",code:p.invalid_string,message:u.message}),a.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(A(o=this._getOrReturnCtx(e,o),{code:p.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),a.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(A(o=this._getOrReturnCtx(e,o),{code:p.invalid_string,validation:{startsWith:u.value},message:u.message}),a.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(A(o=this._getOrReturnCtx(e,o),{code:p.invalid_string,validation:{endsWith:u.value},message:u.message}),a.dirty()):"datetime"===u.kind?(function(e){let t=`${X}T${ee(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)})(u).test(e.data)||(A(o=this._getOrReturnCtx(e,o),{code:p.invalid_string,validation:"datetime",message:u.message}),a.dirty()):"date"===u.kind?Q.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{code:p.invalid_string,validation:"date",message:u.message}),a.dirty()):"time"===u.kind?RegExp(`^${ee(u)}$`).test(e.data)||(A(o=this._getOrReturnCtx(e,o),{code:p.invalid_string,validation:"time",message:u.message}),a.dirty()):"duration"===u.kind?z.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"duration",code:p.invalid_string,message:u.message}),a.dirty()):"ip"===u.kind?(t=e.data,("v4"===(r=u.version)||!r)&&H.test(t)||("v6"===r||!r)&&K.test(t)||(A(o=this._getOrReturnCtx(e,o),{validation:"ip",code:p.invalid_string,message:u.message}),a.dirty())):"jwt"===u.kind?!function(e,t){if(!q.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(A(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:p.invalid_string,message:u.message}),a.dirty()):"cidr"===u.kind?(n=e.data,("v4"===(s=u.version)||!s)&&G.test(n)||("v6"===s||!s)&&W.test(n)||(A(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:p.invalid_string,message:u.message}),a.dirty())):"base64"===u.kind?J.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"base64",code:p.invalid_string,message:u.message}),a.dirty()):"base64url"===u.kind?Y.test(e.data)||(A(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:p.invalid_string,message:u.message}),a.dirty()):b.assertNever(u);return{status:a.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:p.invalid_string,..._.errToObj(r)})}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,..._.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,..._.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",..._.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,..._.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,..._.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,..._.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,..._.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,..._.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,..._.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,..._.errToObj(t)})}nonempty(e){return this.min(1,_.errToObj(e))}trim(){return new et({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new et({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new et({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}et.create=e=>new et({checks:[],typeName:E.ZodString,coerce:e?.coerce??!1,...j(e)});class er extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==c.number){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.number,received:t.parsedType}),O}let r=new k;for(let i of this._def.checks)"int"===i.kind?b.isInteger(e.data)||(A(t=this._getOrReturnCtx(e,t),{code:p.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(A(t=this._getOrReturnCtx(e,t),{code:p.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(A(t=this._getOrReturnCtx(e,t),{code:p.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(e.data,i.value)&&(A(t=this._getOrReturnCtx(e,t),{code:p.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(A(t=this._getOrReturnCtx(e,t),{code:p.not_finite,message:i.message}),r.dirty()):b.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,i){return new er({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(i)}]})}_addCheck(e){return new er({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&b.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}er.create=e=>new er({checks:[],typeName:E.ZodNumber,coerce:e?.coerce||!1,...j(e)});class ei extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==c.bigint)return this._getInvalidInput(e);let r=new k;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(A(t=this._getOrReturnCtx(e,t),{code:p.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(A(t=this._getOrReturnCtx(e,t),{code:p.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(A(t=this._getOrReturnCtx(e,t),{code:p.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):b.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.bigint,received:t.parsedType}),O}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,i){return new ei({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(i)}]})}_addCheck(e){return new ei({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ei.create=e=>new ei({checks:[],typeName:E.ZodBigInt,coerce:e?.coerce??!1,...j(e)});class en extends L{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==c.boolean){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.boolean,received:t.parsedType}),O}return S(e.data)}}en.create=e=>new en({typeName:E.ZodBoolean,coerce:e?.coerce||!1,...j(e)});class es extends L{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==c.date){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.date,received:t.parsedType}),O}if(Number.isNaN(e.data.getTime()))return A(this._getOrReturnCtx(e),{code:p.invalid_date}),O;let r=new k;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(A(t=this._getOrReturnCtx(e,t),{code:p.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(A(t=this._getOrReturnCtx(e,t),{code:p.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):b.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new es({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:_.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:_.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}es.create=e=>new es({checks:[],coerce:e?.coerce||!1,typeName:E.ZodDate,...j(e)});class eo extends L{_parse(e){if(this._getType(e)!==c.symbol){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.symbol,received:t.parsedType}),O}return S(e.data)}}eo.create=e=>new eo({typeName:E.ZodSymbol,...j(e)});class ea extends L{_parse(e){if(this._getType(e)!==c.undefined){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.undefined,received:t.parsedType}),O}return S(e.data)}}ea.create=e=>new ea({typeName:E.ZodUndefined,...j(e)});class eu extends L{_parse(e){if(this._getType(e)!==c.null){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.null,received:t.parsedType}),O}return S(e.data)}}eu.create=e=>new eu({typeName:E.ZodNull,...j(e)});class el extends L{constructor(){super(...arguments),this._any=!0}_parse(e){return S(e.data)}}el.create=e=>new el({typeName:E.ZodAny,...j(e)});class eh extends L{constructor(){super(...arguments),this._unknown=!0}_parse(e){return S(e.data)}}eh.create=e=>new eh({typeName:E.ZodUnknown,...j(e)});class ef extends L{_parse(e){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.never,received:t.parsedType}),O}}ef.create=e=>new ef({typeName:E.ZodNever,...j(e)});class ec extends L{_parse(e){if(this._getType(e)!==c.undefined){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.void,received:t.parsedType}),O}return S(e.data)}}ec.create=e=>new ec({typeName:E.ZodVoid,...j(e)});class ed extends L{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==c.array)return A(t,{code:p.invalid_type,expected:c.array,received:t.parsedType}),O;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,n=t.data.length<i.exactLength.value;(e||n)&&(A(t,{code:e?p.too_big:p.too_small,minimum:n?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(A(t,{code:p.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(A(t,{code:p.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new N(t,e,t.path,r)))).then(e=>k.mergeArray(r,e));let n=[...t.data].map((e,r)=>i.type._parseSync(new N(t,e,t.path,r)));return k.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new ed({...this._def,minLength:{value:e,message:_.toString(t)}})}max(e,t){return new ed({...this._def,maxLength:{value:e,message:_.toString(t)}})}length(e,t){return new ed({...this._def,exactLength:{value:e,message:_.toString(t)}})}nonempty(e){return this.min(1,e)}}ed.create=(e,t)=>new ed({type:e,minLength:null,maxLength:null,exactLength:null,typeName:E.ZodArray,...j(t)});class ep extends L{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=b.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==c.object){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.object,received:t.parsedType}),O}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),s=[];if(!(this._def.catchall instanceof ef&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||s.push(e);let o=[];for(let e of n){let t=i[e],n=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new N(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ef){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(A(r,{code:p.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let i=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new N(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>k.mergeObjectSync(t,e)):k.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return _.errToObj,new ep({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:_.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ep({...this._def,unknownKeys:"strip"})}passthrough(){return new ep({...this._def,unknownKeys:"passthrough"})}extend(e){return new ep({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ep({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:E.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ep({...this._def,catchall:e})}pick(e){let t={};for(let r of b.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ep({...this._def,shape:()=>t})}omit(e){let t={};for(let r of b.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ep({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ep){let r={};for(let i in t.shape){let n=t.shape[i];r[i]=eR.create(e(n))}return new ep({...t._def,shape:()=>r})}return t instanceof ed?new ed({...t._def,type:e(t.element)}):t instanceof eR?eR.create(e(t.unwrap())):t instanceof eT?eT.create(e(t.unwrap())):t instanceof eb?eb.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};for(let r of b.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new ep({...this._def,shape:()=>t})}required(e){let t={};for(let r of b.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eR;)e=e._def.innerType;t[r]=e}return new ep({...this._def,shape:()=>t})}keyof(){return ek(b.objectKeys(this.shape))}}ep.create=(e,t)=>new ep({shape:()=>e,unknownKeys:"strip",catchall:ef.create(),typeName:E.ZodObject,...j(t)}),ep.strictCreate=(e,t)=>new ep({shape:()=>e,unknownKeys:"strict",catchall:ef.create(),typeName:E.ZodObject,...j(t)}),ep.lazycreate=(e,t)=>new ep({shape:e,unknownKeys:"strip",catchall:ef.create(),typeName:E.ZodObject,...j(t)});class em extends L{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new m(e.ctx.common.issues));return A(t,{code:p.invalid_union,unionErrors:r}),O});{let e;let i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=i.map(e=>new m(e));return A(t,{code:p.invalid_union,unionErrors:n}),O}}get options(){return this._def.options}}em.create=(e,t)=>new em({options:e,typeName:E.ZodUnion,...j(t)});let eg=e=>{if(e instanceof eM)return eg(e.schema);if(e instanceof eI)return eg(e.innerType());if(e instanceof eA)return[e.value];if(e instanceof eO)return e.options;if(e instanceof eB)return b.objectValues(e.enum);if(e instanceof eU)return eg(e._def.innerType);if(e instanceof ea)return[void 0];else if(e instanceof eu)return[null];else if(e instanceof eR)return[void 0,...eg(e.unwrap())];else if(e instanceof eT)return[null,...eg(e.unwrap())];else if(e instanceof ej)return eg(e.unwrap());else if(e instanceof eC)return eg(e.unwrap());else if(e instanceof eN)return eg(e._def.innerType);else return[]};class ey extends L{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.object)return A(t,{code:p.invalid_type,expected:c.object,received:t.parsedType}),O;let r=this.discriminator,i=t.data[r],n=this.optionsMap.get(i);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(A(t,{code:p.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),O)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=eg(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(i.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);i.set(n,r)}}return new ey({typeName:E.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...j(r)})}}class ev extends L{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(I(e)||I(i))return O;let n=function e(t,r){let i=d(t),n=d(r);if(t===r)return{valid:!0,data:t};if(i===c.object&&n===c.object){let i=b.objectKeys(r),n=b.objectKeys(t).filter(e=>-1!==i.indexOf(e)),s={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1};s[i]=n.data}return{valid:!0,data:s}}if(i===c.array&&n===c.array){if(t.length!==r.length)return{valid:!1};let i=[];for(let n=0;n<t.length;n++){let s=e(t[n],r[n]);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}return i===c.date&&n===c.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,i.value);return n.valid?((R(e)||R(i))&&t.dirty(),{status:t.value,value:n.data}):(A(r,{code:p.invalid_intersection_types}),O)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ev.create=(e,t,r)=>new ev({left:e,right:t,typeName:E.ZodIntersection,...j(r)});class eb extends L{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.array)return A(r,{code:p.invalid_type,expected:c.array,received:r.parsedType}),O;if(r.data.length<this._def.items.length)return A(r,{code:p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),O;!this._def.rest&&r.data.length>this._def.items.length&&(A(r,{code:p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new N(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>k.mergeArray(t,e)):k.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new eb({...this._def,rest:e})}}eb.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eb({items:e,typeName:E.ZodTuple,rest:null,...j(t)})};class ew extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.object)return A(r,{code:p.invalid_type,expected:c.object,received:r.parsedType}),O;let i=[],n=this._def.keyType,s=this._def.valueType;for(let e in r.data)i.push({key:n._parse(new N(r,e,r.path,e)),value:s._parse(new N(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?k.mergeObjectAsync(t,i):k.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new ew(t instanceof L?{keyType:e,valueType:t,typeName:E.ZodRecord,...j(r)}:{keyType:et.create(),valueType:e,typeName:E.ZodRecord,...j(t)})}}class e_ extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.map)return A(r,{code:p.invalid_type,expected:c.map,received:r.parsedType}),O;let i=this._def.keyType,n=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:i._parse(new N(r,e,r.path,[s,"key"])),value:n._parse(new N(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return O;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return O;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}e_.create=(e,t,r)=>new e_({valueType:t,keyType:e,typeName:E.ZodMap,...j(r)});class eE extends L{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.set)return A(r,{code:p.invalid_type,expected:c.set,received:r.parsedType}),O;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(A(r,{code:p.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(A(r,{code:p.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let n=this._def.valueType;function s(e){let r=new Set;for(let i of e){if("aborted"===i.status)return O;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let o=[...r.data.values()].map((e,t)=>n._parse(new N(r,e,r.path,t)));return r.common.async?Promise.all(o).then(e=>s(e)):s(o)}min(e,t){return new eE({...this._def,minSize:{value:e,message:_.toString(t)}})}max(e,t){return new eE({...this._def,maxSize:{value:e,message:_.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}eE.create=(e,t)=>new eE({valueType:e,minSize:null,maxSize:null,typeName:E.ZodSet,...j(t)});class ex extends L{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.function)return A(t,{code:p.invalid_type,expected:c.function,received:t.parsedType}),O;function r(e,r){return M({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,x,x].filter(e=>!!e),issueData:{code:p.invalid_arguments,argumentsError:r}})}function i(e,r){return M({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,x,x].filter(e=>!!e),issueData:{code:p.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof eS){let e=this;return S(async function(...t){let o=new m([]),a=await e._def.args.parseAsync(t,n).catch(e=>{throw o.addIssue(r(t,e)),o}),u=await Reflect.apply(s,this,a);return await e._def.returns._def.type.parseAsync(u,n).catch(e=>{throw o.addIssue(i(u,e)),o})})}{let e=this;return S(function(...t){let o=e._def.args.safeParse(t,n);if(!o.success)throw new m([r(t,o.error)]);let a=Reflect.apply(s,this,o.data),u=e._def.returns.safeParse(a,n);if(!u.success)throw new m([i(a,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ex({...this._def,args:eb.create(e).rest(eh.create())})}returns(e){return new ex({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ex({args:e||eb.create([]).rest(eh.create()),returns:t||eh.create(),typeName:E.ZodFunction,...j(r)})}}class eM extends L{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eM.create=(e,t)=>new eM({getter:e,typeName:E.ZodLazy,...j(t)});class eA extends L{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return A(t,{received:t.data,code:p.invalid_literal,expected:this._def.value}),O}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ek(e,t){return new eO({values:e,typeName:E.ZodEnum,...j(t)})}eA.create=(e,t)=>new eA({value:e,typeName:E.ZodLiteral,...j(t)});class eO extends L{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return A(t,{expected:b.joinValues(r),received:t.parsedType,code:p.invalid_type}),O}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return A(t,{received:t.data,code:p.invalid_enum_value,options:r}),O}return S(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eO.create(e,{...this._def,...t})}exclude(e,t=this._def){return eO.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}eO.create=ek;class eB extends L{_parse(e){let t=b.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==c.string&&r.parsedType!==c.number){let e=b.objectValues(t);return A(r,{expected:b.joinValues(e),received:r.parsedType,code:p.invalid_type}),O}if(this._cache||(this._cache=new Set(b.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=b.objectValues(t);return A(r,{received:r.data,code:p.invalid_enum_value,options:e}),O}return S(e.data)}get enum(){return this._def.values}}eB.create=(e,t)=>new eB({values:e,typeName:E.ZodNativeEnum,...j(t)});class eS extends L{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==c.promise&&!1===t.common.async?(A(t,{code:p.invalid_type,expected:c.promise,received:t.parsedType}),O):S((t.parsedType===c.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eS.create=(e,t)=>new eS({type:e,typeName:E.ZodPromise,...j(t)});class eI extends L{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===E.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:e=>{A(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===i.type){let e=i.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return O;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?O:"dirty"===i.status||"dirty"===t.value?B(i.value):i});{if("aborted"===t.value)return O;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?O:"dirty"===i.status||"dirty"===t.value?B(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?O:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?O:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>T(e)?Promise.resolve(i.transform(e.value,n)).then(e=>({status:t.value,value:e})):O);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!T(e))return O;let s=i.transform(e.value,n);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}}b.assertNever(i)}}eI.create=(e,t,r)=>new eI({schema:e,typeName:E.ZodEffects,effect:t,...j(r)}),eI.createWithPreprocess=(e,t,r)=>new eI({schema:t,effect:{type:"preprocess",transform:e},typeName:E.ZodEffects,...j(r)});class eR extends L{_parse(e){return this._getType(e)===c.undefined?S(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eR.create=(e,t)=>new eR({innerType:e,typeName:E.ZodOptional,...j(t)});class eT extends L{_parse(e){return this._getType(e)===c.null?S(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eT.create=(e,t)=>new eT({innerType:e,typeName:E.ZodNullable,...j(t)});class eU extends L{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===c.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eU.create=(e,t)=>new eU({innerType:e,typeName:E.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...j(t)});class eN extends L{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return U(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new m(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new m(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eN.create=(e,t)=>new eN({innerType:e,typeName:E.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...j(t)});class eP extends L{_parse(e){if(this._getType(e)!==c.nan){let t=this._getOrReturnCtx(e);return A(t,{code:p.invalid_type,expected:c.nan,received:t.parsedType}),O}return{status:"valid",value:e.data}}}eP.create=e=>new eP({typeName:E.ZodNaN,...j(e)}),Symbol("zod_brand");class ej extends L{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eL extends L{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?O:"dirty"===e.status?(t.dirty(),B(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?O:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eL({in:e,out:t,typeName:E.ZodPipeline})}}class eC extends L{_parse(e){let t=this._def.innerType._parse(e),r=e=>(T(e)&&(e.value=Object.freeze(e.value)),e);return U(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}eC.create=(e,t)=>new eC({innerType:e,typeName:E.ZodReadonly,...j(t)}),ep.lazycreate,(y=E||(E={})).ZodString="ZodString",y.ZodNumber="ZodNumber",y.ZodNaN="ZodNaN",y.ZodBigInt="ZodBigInt",y.ZodBoolean="ZodBoolean",y.ZodDate="ZodDate",y.ZodSymbol="ZodSymbol",y.ZodUndefined="ZodUndefined",y.ZodNull="ZodNull",y.ZodAny="ZodAny",y.ZodUnknown="ZodUnknown",y.ZodNever="ZodNever",y.ZodVoid="ZodVoid",y.ZodArray="ZodArray",y.ZodObject="ZodObject",y.ZodUnion="ZodUnion",y.ZodDiscriminatedUnion="ZodDiscriminatedUnion",y.ZodIntersection="ZodIntersection",y.ZodTuple="ZodTuple",y.ZodRecord="ZodRecord",y.ZodMap="ZodMap",y.ZodSet="ZodSet",y.ZodFunction="ZodFunction",y.ZodLazy="ZodLazy",y.ZodLiteral="ZodLiteral",y.ZodEnum="ZodEnum",y.ZodEffects="ZodEffects",y.ZodNativeEnum="ZodNativeEnum",y.ZodOptional="ZodOptional",y.ZodNullable="ZodNullable",y.ZodDefault="ZodDefault",y.ZodCatch="ZodCatch",y.ZodPromise="ZodPromise",y.ZodBranded="ZodBranded",y.ZodPipeline="ZodPipeline",y.ZodReadonly="ZodReadonly";let eZ=et.create,eF=er.create;eP.create,ei.create;let e$=en.create;es.create,eo.create,ea.create,eu.create,el.create,eh.create,ef.create,ec.create;let eD=ed.create,eq=ep.create;ep.strictCreate;let ez=em.create,eV=ey.create;ev.create,eb.create,ew.create,e_.create,eE.create,ex.create,eM.create;let eH=eA.create,eG=eO.create;eB.create,eS.create,eI.create,eR.create,eT.create,eI.createWithPreprocess,eL.create;let eK=/[@#$%^&*+=/\\|~«»]/,eW=/(!{2,}|\?{2,}|-{2,})/,eJ=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,eY=({max:e,noSpaces:t}={})=>(t?eZ().max(e??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):eZ().max(e??Number.POSITIVE_INFINITY)).refine(e=>!eJ.test(e),{message:"Emojis and symbols are not allowed"}).refine(e=>!eK.test(e),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, \xab, \xbb) are not allowed"}).refine(e=>!eW.test(e),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),eX=eZ().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(e=>!e.includes(" "),{message:"URL must not contain spaces"}).refine(e=>{try{let t=new URL(e).hostname;if("localhost"===t||t.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(t)||t.startsWith("[")&&t.endsWith("]"))return!1;return!0}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),eQ=eZ().max(32),e0=eZ().max(32),e1=eZ().regex(/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,{message:"Invalid CAIP-19 asset ID"}),e2=eZ().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),e6=eZ().max(1024).regex(/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(e=>!e.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(e=>!e.includes("/"),{message:"Domain must not include path separators"}).refine(e=>!e.includes("@"),{message:"Domain must not include @ symbol"}).refine(e=>!e.includes(":"),{message:"Domain must not include port numbers"}),e8=ez([eH("1:1"),eH("3:2")]),e3=eq({header:eZ(),payload:eZ(),signature:eZ()});eq({fid:eF(),type:eH("app_key"),key:eZ().startsWith("0x")});let e4=eq({type:eH("launch_frame"),name:eQ,url:eX.optional(),splashImageUrl:eX.optional(),splashBackgroundColor:e2.optional()}),e5=eV("type",[eq({type:eH("launch_miniapp"),name:eQ,url:eX.optional(),splashImageUrl:eX.optional(),splashBackgroundColor:e2.optional()}),eq({type:eH("view_token"),token:e1}),e4]),e9=eq({title:e0,action:e5});eq({version:ez([eZ(),eF()]).transform(e=>String(e)).pipe(ez([eH("next"),eH("1")])),imageUrl:eX,aspectRatio:e8.optional(),button:e9});let e7=eq({url:eZ(),token:eZ()});eq({notificationId:eZ().max(128),title:eZ().max(32),body:eZ().max(128),targetUrl:eX,tokens:eZ().array().max(100)}),eq({result:eq({successfulTokens:eD(eZ()),invalidTokens:eD(eZ()),rateLimitedTokens:eD(eZ())})});let te=eq({event:eH("miniapp_added"),notificationDetails:e7.optional()});eV("event",[te,eq({event:eH("miniapp_removed")}),eq({event:eH("notifications_enabled"),notificationDetails:e7.required()}),eq({event:eH("notifications_disabled")})]);let tt=eG(["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"]),tr=ez([eH("0.0.0"),eH("0.0.1"),eH("1"),eH("next")]),ti=eY({max:30}),tn=eY({max:170}),ts=eD(eX).max(3),to=eD(eY({max:20,noSpaces:!0})).max(5),ta=eY({max:30}),tu=eY({max:30}),tl=eY({max:100}),th=e$();function tf(e){return Array.from(new Set(e))}let tc=eD(eG(["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"])).transform(tf),td=eD(eG(["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"])).transform(tf),tp=eq({version:tr,name:eQ,iconUrl:eX,homeUrl:eX,imageUrl:eX.optional(),buttonTitle:e0.optional(),splashImageUrl:eX.optional(),splashBackgroundColor:e2.optional(),webhookUrl:eX.optional(),subtitle:ti.optional(),description:tn.optional(),screenshotUrls:ts.optional(),primaryCategory:tt.optional(),tags:to.optional(),heroImageUrl:eX.optional(),tagline:ta.optional(),ogTitle:tu.optional(),ogDescription:tl.optional(),ogImageUrl:eX.optional(),noindex:th.optional(),requiredChains:tc.optional(),requiredCapabilities:td.optional(),castShareUrl:eX.optional(),canonicalDomain:e6.optional()}).refine(e=>{if(void 0===e.castShareUrl)return!0;try{let t=new URL(e.homeUrl).hostname,r=new URL(e.castShareUrl).hostname;return t===r}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});eq({accountAssociation:e3,miniapp:tp.optional(),frame:tp.optional()}).refine(e=>!e.frame||!e.miniapp||JSON.stringify(e.frame)===JSON.stringify(e.miniapp),{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(e=>({...e,frame:e.frame??e.miniapp}));var tm=r(9917),tg=r(8764).Buffer;function ty(e){return tg.from(e.serialize({verifySignatures:!1})).toString("base64")}var tv=r(4146);class tb extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof tb){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof tb&&t.cause.docsPath||t.docsPath,n=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${n}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=n,this.docsPath=i,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function tw(e,t={}){let{raw:r=!1}=t;if(r)return e;if(e.error){let{code:t}=e.error;throw new(t===tT.code?tT:t===tE.code?tE:t===tR.code?tR:t===tS.code?tS:t===tO.code?tO:t===tI.code?tI:t===tk.code?tk:t===tU.code?tU:t===tx.code?tx:t===tM.code?tM:t===tA.code?tA:t===tB.code?tB:t_)(e.error)}return e.result}class t_ extends Error{constructor(e){let{code:t,message:r,data:i}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.data=i}}class tE extends t_{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:tE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(tE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class tx extends t_{constructor(e={}){super({message:"Requested resource not found.",...e,code:tx.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(tx,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class tM extends t_{constructor(e={}){super({message:"Requested resource not available.",...e,code:tM.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(tM,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class tA extends t_{constructor(e={}){super({message:"Transaction creation failed.",...e,code:tA.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(tA,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class tk extends t_{constructor(e={}){super({message:"Method is not implemented.",...e,code:tk.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(tk,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class tO extends t_{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:tO.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(tO,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class tB extends t_{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:tB.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(tB,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class tS extends t_{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:tS.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(tS,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class tI extends t_{constructor(e={}){super({message:"Method does not exist.",...e,code:tI.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(tI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class tR extends t_{constructor(e={}){super({message:"Invalid method parameters.",...e,code:tR.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(tR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class tT extends t_{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:tT.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(tT,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class tU extends t_{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:tU.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(tU,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class tN extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}class tP extends tN{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(tP,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class tj extends tN{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(tj,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class tL extends tN{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(tL,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class tC extends tN{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(tC,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class tZ extends tN{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(tZ,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class tF extends tb{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let t$=Symbol("Comlink.proxy"),tD=Symbol("Comlink.endpoint"),tq=Symbol("Comlink.releaseProxy"),tz=Symbol("Comlink.finalizer"),tV=Symbol("Comlink.thrown"),tH=e=>"object"==typeof e&&null!==e||"function"==typeof e,tG=new Map([["proxy",{canHandle:e=>tH(e)&&e[t$],serialize(e){let{port1:t,port2:r}=new MessageChannel;return function e(t,r=globalThis,i=["*"]){r.addEventListener("message",function n(s){let o;if(!s||!s.data)return;if(!function(e,t){for(let r of e)if(t===r||"*"===r||r instanceof RegExp&&r.test(t))return!0;return!1}(i,s.origin)){console.warn(`Invalid origin '${s.origin}' for comlink proxy`);return}let{id:a,type:u,path:l}=Object.assign({path:[]},s.data),h=(s.data.argumentList||[]).map(t6);try{var f,c;let r=l.slice(0,-1).reduce((e,t)=>e[t],t),i=l.reduce((e,t)=>e[t],t);switch(u){case"GET":o=i;break;case"SET":r[l.slice(-1)[0]]=t6(s.data.value),o=!0;break;case"APPLY":o=i.apply(r,h);break;case"CONSTRUCT":f=new i(...h),o=Object.assign(f,{[t$]:!0});break;case"ENDPOINT":{let{port1:r,port2:i}=new MessageChannel;e(t,i),c=[r],t1.set(r,c),o=r}break;case"RELEASE":o=void 0;break;default:return}}catch(e){o={value:e,[tV]:0}}Promise.resolve(o).catch(e=>({value:e,[tV]:0})).then(e=>{let[i,s]=t2(e);r.postMessage(Object.assign(Object.assign({},i),{id:a}),s),"RELEASE"===u&&(r.removeEventListener("message",n),tK(r),tz in t&&"function"==typeof t[tz]&&t[tz]())}).catch(e=>{let[t,i]=t2({value:TypeError("Unserializable return value"),[tV]:0});r.postMessage(Object.assign(Object.assign({},t),{id:a}),i)})}),r.start&&r.start()}(e,t),[r,[r]]},deserialize:e=>(e.start(),tW(e))}],["throw",{canHandle:e=>tH(e)&&tV in e,serialize:({value:e})=>[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]],deserialize(e){if(e.isError)throw Object.assign(Error(e.value.message),e.value);throw e.value}}]]);function tK(e){"MessagePort"===e.constructor.name&&e.close()}function tW(e,t){let r=new Map;return e.addEventListener("message",function(e){let{data:t}=e;if(!t||!t.id)return;let i=r.get(t.id);if(i)try{i(t)}finally{r.delete(t.id)}}),function e(t,r,i=[],n=function(){}){let s=!1,o=new Proxy(n,{get(n,a){if(tJ(s),a===tq)return()=>{tQ&&tQ.unregister(o),tY(t),r.clear(),s=!0};if("then"===a){if(0===i.length)return{then:()=>o};let e=t8(t,r,{type:"GET",path:i.map(e=>e.toString())}).then(t6);return e.then.bind(e)}return e(t,r,[...i,a])},set(e,n,o){tJ(s);let[a,u]=t2(o);return t8(t,r,{type:"SET",path:[...i,n].map(e=>e.toString()),value:a},u).then(t6)},apply(n,o,a){tJ(s);let u=i[i.length-1];if(u===tD)return t8(t,r,{type:"ENDPOINT"}).then(t6);if("bind"===u)return e(t,r,i.slice(0,-1));let[l,h]=t0(a);return t8(t,r,{type:"APPLY",path:i.map(e=>e.toString()),argumentList:l},h).then(t6)},construct(e,n){tJ(s);let[o,a]=t0(n);return t8(t,r,{type:"CONSTRUCT",path:i.map(e=>e.toString()),argumentList:o},a).then(t6)}});return function(e,t){let r=(tX.get(t)||0)+1;tX.set(t,r),tQ&&tQ.register(e,t,e)}(o,t),o}(e,r,[],t)}function tJ(e){if(e)throw Error("Proxy has been released and is not useable")}function tY(e){return t8(e,new Map,{type:"RELEASE"}).then(()=>{tK(e)})}let tX=new WeakMap,tQ="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(tX.get(e)||0)-1;tX.set(e,t),0===t&&tY(e)});function t0(e){var t;let r=e.map(t2);return[r.map(e=>e[0]),(t=r.map(e=>e[1]),Array.prototype.concat.apply([],t))]}let t1=new WeakMap;function t2(e){for(let[t,r]of tG)if(r.canHandle(e)){let[i,n]=r.serialize(e);return[{type:"HANDLER",name:t,value:i},n]}return[{type:"RAW",value:e},t1.get(e)||[]]}function t6(e){switch(e.type){case"HANDLER":return tG.get(e.name).deserialize(e.value);case"RAW":return e.value}}function t8(e,t,r,i){return new Promise(n=>{let s=[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(s,n),e.start&&e.start(),e.postMessage(Object.assign({id:s},r),i)})}let t3=tW("undefined"==typeof window?{postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}}:window?.ReactNativeWebView?{postMessage:e=>{window.ReactNativeWebView.postMessage(JSON.stringify(e))},addEventListener:(e,t,...r)=>{document.addEventListener("FarcasterFrameCallback",t,...r)},removeEventListener:(e,t)=>{document.removeEventListener("FarcasterFrameCallback",t)}}:function(e,t=globalThis,r="*"){return{postMessage:(t,i)=>e.postMessage(t,r,i),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}(window?.parent??window)),t4=function(){let e=new tv.v;return{get eventNames(){return e.eventNames.bind(e)},get listenerCount(){return e.listenerCount.bind(e)},get listeners(){return e.listeners.bind(e)},addListener:e.addListener.bind(e),emit:e.emit.bind(e),off:e.off.bind(e),on:e.on.bind(e),once:e.once.bind(e),removeAllListeners:e.removeAllListeners.bind(e),removeListener:e.removeListener.bind(e)}}(),t5=function(e={}){let t=e.id??0;return{prepare:e=>({...{id:t++,...e},jsonrpc:"2.0"}),get id(){return t}}}(),t9=function(e,t={}){let{includeEvents:r=!0}=t;if(!e)throw new tF;return{...r?{on:e.on?.bind(e),removeListener:e.removeListener?.bind(e)}:{},async request(t){let r=await e.request(t);return r&&"object"==typeof r&&"jsonrpc"in r?tw(r):r}}}({...t4,async request(e){let t=t5.prepare(e);try{let e=await t3.ethProviderRequestV2(t).then(e=>tw(e,{request:t,raw:!0}));if(e.error)throw function({code:e,details:t}){switch(e){case 4001:return new tP;case 4100:return new tj;case 4200:return new tL;case 4900:return new tC;case 4901:return new tZ;default:return new tN(e,t??"Unknown provider RPC error")}}(e.error);return e.result}catch(e){if(e instanceof Error&&e.message.match(/cannot read property 'apply'/i))return await t3.ethProviderRequest(t);if(e instanceof tN||e instanceof t_)throw e;throw new tT({message:e instanceof Error?e.message:void 0})}}});async function t7(){try{let e=await t3.getCapabilities();if(!e.includes("wallet.getEthereumProvider")&&!e.includes("wallet.getEvmProvider"))return;return t9}catch{return t9}}function re(e){let t=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(e)});window.dispatchEvent(t);let r=()=>window.dispatchEvent(t);return window.addEventListener("eip6963:requestProvider",r),()=>window.removeEventListener("eip6963:requestProvider",r)}"undefined"!=typeof document&&(document.addEventListener("eip6963:requestProvider",()=>{t3.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",e=>{if(e instanceof MessageEvent){let t=e.data;t4.emit(t.event,...t.params)}}),document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"eip6963:announceProvider"===t.event&&re({info:t.info,provider:t9})}})),"undefined"!=typeof window&&(window.addEventListener("eip6963:requestProvider",()=>{t3.eip6963RequestProvider()}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEthProviderEvent"===e.data.type){let t=e.data;t4.emit(t.event,...t.params)}}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"eip6963:announceProvider"===t.event&&re({info:t.info,provider:t9})}})),new TextEncoder;let rt=new TextDecoder,rr=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},ri=e=>{let t=e;t instanceof Uint8Array&&(t=rt.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return rr(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}};class rn extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}rn.code="ERR_JOSE_GENERIC";class rs extends rn{constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=t}}rs.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class ro extends rn{constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=t}}ro.code="ERR_JWT_EXPIRED";class ra extends rn{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}ra.code="ERR_JOSE_ALG_NOT_ALLOWED";class ru extends rn{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}ru.code="ERR_JOSE_NOT_SUPPORTED";class rl extends rn{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}rl.code="ERR_JWE_DECRYPTION_FAILED";class rh extends rn{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}rh.code="ERR_JWE_INVALID";class rf extends rn{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}rf.code="ERR_JWS_INVALID";class rc extends rn{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}rc.code="ERR_JWT_INVALID";class rd extends rn{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}rd.code="ERR_JWK_INVALID";class rp extends rn{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}rp.code="ERR_JWKS_INVALID";class rm extends rn{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}rm.code="ERR_JWKS_NO_MATCHING_KEY";class rg extends rn{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}rg.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class ry extends rn{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}ry.code="ERR_JWKS_TIMEOUT";class rv extends rn{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}rv.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";class rb extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof rb){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})();super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),this.name="BaseError",this.cause=t.cause,this.details=r,this.shortMessage=e}}class rw extends rb{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class r_ extends rb{constructor(e){super(e),this.name="InvalidToken"}}async function rE({origin:e}){let t=await fetch(`${e}/nonce`,{method:"POST"});if(!t.ok)throw new rw({status:t.status});return await t.json()}async function rx({origin:e},t){let r=await fetch(`${e}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)});if(!r.ok)throw new rw({status:r.status});let i=await r.json();if(!1===i.valid)throw new r_(i.message??"unknown");return{token:i.token}}let rM=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,rA=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/,rk=(()=>{let e,t;async function r(t){let r=function(e={}){let t=function(e={}){return{origin:e.origin??"https://auth.farcaster.xyz"}}(e);return{generateNonce:()=>rE(t),verifySiwf:e=>rx(t,e)}}({origin:t.quickAuthServerOrigin}),{nonce:i}=await r.generateNonce(),n=await t3.signIn({nonce:i,acceptAuthAddress:!0});if(n.result){let t=function(e){let{scheme:t,statement:r,...i}=e.match(rM)?.groups??{},{chainId:n,expirationTime:s,issuedAt:o,notBefore:a,requestId:u,...l}=e.match(rA)?.groups??{},h=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...i,...l,...n?{chainId:Number(n)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...u?{requestId:u}:{},...h?{resources:h}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(n.result.message);if(!t.domain)throw Error("Missing domain on SIWE message");let i=await r.verifySiwf({domain:t.domain,message:n.result.message,signature:n.result.signature});return e={token:i.token,payload:function(e){let t,r;if("string"!=typeof e)throw new rc("JWTs must use Compact JWS serialization, JWT must be a string");let{1:i,length:n}=e.split(".");if(5===n)throw new rc("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new rc("Invalid JWT");if(!i)throw new rc("JWTs must contain a payload");try{t=ri(i)}catch{throw new rc("Failed to base64url decode the payload")}try{r=JSON.parse(rt.decode(t))}catch{throw new rc("Failed to parse the decoded payload as JSON")}if(!function(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r))throw new rc("Invalid JWT Claims Set");return r}(i.token)},i}if("rejected_by_user"===n.error.type)throw new u;throw Error("Unreachable")}return{get token(){if(e&&new Date(1e3*e.payload.exp)>new Date(Date.now()+15e3))return e.token;return},async getToken(i={}){let n=i.force??!1;return e&&!n&&new Date(1e3*e.payload.exp)>new Date(Date.now()+15e3)?{token:e.token}:(t||(t=r(i)),t.finally(()=>{t=void 0}),t)},async fetch(e,t){let{token:r}=await this.getToken(),i=new Headers(t?.headers);return i.set("Authorization",`Bearer ${r}`),fetch(e,{...t,headers:i})}}})(),rO=function(){let e=new tv.Z;return{get eventNames(){return e.eventNames.bind(e)},get listenerCount(){return e.listenerCount.bind(e)},get listeners(){return e.listeners.bind(e)},addListener:e.addListener.bind(e),emit:e.emit.bind(e),off:e.off.bind(e),on:e.on.bind(e),once:e.once.bind(e),removeAllListeners:e.removeAllListeners.bind(e),removeListener:e.removeListener.bind(e)}}(),{solanaProviderRequest:rB}=t3;if(rB){let e;n={request:e=async e=>{if("connect"===e.method||"signMessage"===e.method)return await rB(e);if("signAndSendTransaction"===e.method){let{transaction:t}=e.params,r={transaction:ty(t)};return await rB({method:"signAndSendTransaction",params:r})}if("signTransaction"===e.method){let{transaction:t}=e.params,r={transaction:ty(t)},{signedTransaction:i}=await rB({method:"signTransaction",params:r});return{signedTransaction:function(e){let t=tg.from(e,"base64");return"legacy"===tm.EC.deserializeMessageVersion(t)?tm.GS.deserialize(t):tm.YW.from(t)}(i)}}},signMessage:t=>e({method:"signMessage",params:{message:t}}),signTransaction:t=>e({method:"signTransaction",params:{transaction:t}}),signAndSendTransaction:t=>e({method:"signAndSendTransaction",params:t})}}async function rS(){let e;try{e=await t3.getCapabilities()}catch{}if(e?.includes("wallet.getSolanaProvider"))return n}let rI=null;async function rR(e=1e3){if(!0===rI)return!0;if("undefined"==typeof window||!window.ReactNativeWebView&&window===window.parent)return!1;let t=await Promise.race([t3.context.then(e=>!!e),new Promise(t=>{setTimeout(()=>t(!1),e)})]).catch(()=>!1);return t&&(rI=!0),t}let rT=async()=>{let e=await t3.addFrame();if(e.result)return e.result;if("invalid_domain_manifest"===e.error.type)throw new o;if("rejected_by_user"===e.error.type)throw new a;throw Error("Unreachable")},rU={...rO,getCapabilities:t3.getCapabilities,getChains:t3.getChains,isInMiniApp:rR,context:t3.context,back:(({miniAppHost:e,emitter:t})=>{let r;let i=null;return{visible:!1,get onback(){return i},set onback(cb){i&&t.removeListener("backNavigationTriggered",i),i=cb,cb&&t.addListener("backNavigationTriggered",cb)},async show(){await e.updateBackState({visible:!0}),this.visible=!0},async hide(){await e.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){r=function({emitter:e,back:t}){let r=function(){if("undefined"!=typeof window&&void 0!==window.navigation)return window.navigation}();return r?function({emitter:e,back:t,navigation:r}){function i(){r.canGoBack?t.show():t.hide()}function n(){t.visible&&r.canGoBack&&r.back()}return r.addEventListener("navigatesuccess",i),e.addListener("backNavigationTriggered",n),()=>{r.removeEventListener("navigatesuccess",i),e.removeListener("backNavigationTriggered",n)}}({emitter:e,back:t,navigation:r}):"undefined"!=typeof window?function({emitter:e,back:t,window:r}){function i(){t.visible&&r.history.back()}return t.show(),e.addListener("backNavigationTriggered",i),()=>{e.removeListener("backNavigationTriggered",i)}}({emitter:e,back:t,window}):void 0}({back:this,emitter:t})},async disableWebNavigation(){r?.(),r=void 0}}})({miniAppHost:t3,emitter:rO}),quickAuth:rk,actions:{setPrimaryButton:t3.setPrimaryButton.bind(t3),ready:async(e={})=>await t3.ready(e),close:t3.close.bind(t3),viewCast:t3.viewCast.bind(t3),viewProfile:t3.viewProfile.bind(t3),openMiniApp:t3.openMiniApp.bind(t3),signIn:async e=>{let t=await t3.signIn(e);if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new u;throw Error("Unreachable")},openUrl:e=>{let t="string"==typeof e?e:e.url;return t3.openUrl(t.trim())},addFrame:rT,addMiniApp:rT,composeCast:(e={})=>t3.composeCast(e),viewToken:t3.viewToken.bind(t3),sendToken:t3.sendToken.bind(t3),swapToken:t3.swapToken.bind(t3),requestCameraAndMicrophoneAccess:t3.requestCameraAndMicrophoneAccess.bind(t3)},experimental:{getSolanaProvider:rS,signManifest:async e=>{let t=await t3.signManifest(e);if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new l;if("invalid_domain"===t.error.type)throw new h;if("generic_error"===t.error.type)throw new f(t.error.message);throw Error("Unreachable")},quickAuth:e=>rk.getToken(e)},wallet:{ethProvider:t9,getEthereumProvider:t7,getSolanaProvider:rS},haptics:{impactOccurred:t3.impactOccurred.bind(t3),notificationOccurred:t3.notificationOccurred.bind(t3),selectionChanged:t3.selectionChanged.bind(t3)}};"undefined"!=typeof document&&document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"primary_button_clicked"===t.event?rO.emit("primaryButtonClicked"):"miniapp_added"===t.event?rO.emit("miniAppAdded",{notificationDetails:t.notificationDetails}):"miniapp_add_rejected"===t.event?rO.emit("miniAppAddRejected",{reason:t.reason}):"miniapp_removed"===t.event?rO.emit("miniAppRemoved"):"notifications_enabled"===t.event?rO.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?rO.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&rO.emit("backNavigationTriggered")}}),"undefined"!=typeof window&&window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"primary_button_clicked"===t.event?rO.emit("primaryButtonClicked"):"miniapp_added"===t.event?rO.emit("miniAppAdded",{notificationDetails:t.notificationDetails}):"miniapp_add_rejected"===t.event?rO.emit("miniAppAddRejected",{reason:t.reason}):"miniapp_removed"===t.event?rO.emit("miniAppRemoved"):"notifications_enabled"===t.event?rO.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?rO.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&rO.emit("backNavigationTriggered")}})},9386:function(e,t,r){"use strict";t._O=t.Jq=t.KB=t.u8=t.cv=void 0,t.Ik=t.A9=t.n_=t.gM=void 0;let i=r(8764);function n(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function s(e){return n(e),i.Buffer.from(e.buffer,e.byteOffset,e.length)}class o{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class u extends o{isCount(){throw Error("ExternalLayout is abstract")}}class l extends u{constructor(e,t=0,r){if(!(e instanceof o))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof h||this.layout instanceof f}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}class h extends o{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntLE(e,r,this.span),this.span}}class f extends o{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntBE(e,r,this.span),this.span}}function c(e){let t=Math.floor(e/4294967296);return{hi32:t,lo32:e-4294967296*t}}function d(e,t){return 4294967296*e+t}class p extends o{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),i=r.readUInt32LE(t);return d(r.readUInt32LE(t+4),i)}encode(e,t,r=0){let i=c(e),n=s(t);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}class m extends o{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),i=r.readUInt32LE(t);return d(r.readInt32LE(t+4),i)}encode(e,t,r=0){let i=c(e),n=s(t);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}class g extends o{constructor(e,t,r){if(!(e instanceof o))throw TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;t instanceof u||!(0<e.span)||(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof u&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let n=0;for(;n<i;)r+=this.elementLayout.getSpan(e,t+r),++n}return r}decode(e,t=0){let r=[],i=0,n=this.count;for(n instanceof u&&(n=n.decode(e,t));i<n;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r=0){let i=this.elementLayout,n=e.reduce((e,n)=>e+i.encode(n,t,r+e),0);return this.count instanceof u&&this.count.encode(e.length,t,r),n}}class y extends o{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof o,!0)))throw TypeError("fields must be array of Layout instances");for(let i of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>i.span&&void 0===i.property)throw Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,i)=>{let n=i.getSpan(e,t);return t+=n,r+n},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){n(e);let r=this.makeDestinationObject();for(let i of this.fields)if(void 0!==i.property&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let i=r,n=0,s=0;for(let i of this.fields){let o=i.span;if(s=0<o?o:0,void 0!==i.property){let n=e[i.property];void 0!==n&&(s=i.encode(n,t,r),0>o&&(o=i.getSpan(t,r)))}n=r,r+=o}return n+s-i}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class v{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}class b extends v{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class w extends o{constructor(e,t,r){let i;if(e instanceof h||e instanceof f)i=new b(new l(e));else if(e instanceof u&&e.isCount())i=new b(e);else if(e instanceof v)i=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof o))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let n=-1;t&&0<=(n=t.span)&&(e instanceof h||e instanceof f)&&(n+=i.layout.span),super(n,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof h||e instanceof f,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r;let i=this.discriminator,n=i.decode(e,t),s=this.registry[n];if(void 0===s){let s=this.defaultLayout,o=0;this.usesPrefixDiscriminator&&(o=i.layout.span),(r=this.makeDestinationObject())[i.property]=n,r[s.property]=s.decode(e,t+o)}else r=s.decode(e,t);return r}encode(e,t,r=0){let i=this.getSourceVariant(e);if(void 0===i){let i=this.discriminator,n=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=i.layout.span),i.encode(e[i.property],t,r),s+n.encode(e[n.property],t,r+s)}return i.encode(e,t,r)}addVariant(e,t,r){let i=new _(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}}class _ extends o{constructor(e,t,r,i){if(!(e instanceof w))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof o))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof i)throw TypeError("variant must have a String property")}let n=e.span;0>e.span&&0<=(n=r?r.span:0)&&e.usesPrefixDiscriminator&&(n+=e.discriminator.layout.span),super(n,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+r)),r+i}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let n=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),n+=this.layout.getSpan(t,r+i),0<=this.union.span&&n>this.union.span))throw Error("encoded variant overruns containing union");return n}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function E(e){return 0>e&&(e+=4294967296),e}class x extends o{constructor(e,t,r){if(!(e instanceof h||e instanceof f))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(e){return i=E(e),this},this._packedGetValue=function(){return i}}decode(e,t=0){let r=this.makeDestinationObject(),i=this.word.decode(e,t);for(let t of(this._packedSetValue(i),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let i=this.word.decode(t,r);for(let t of(this._packedSetValue(i),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new M(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new A(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}class M{constructor(e,t,r){if(!(e instanceof x))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");let i=8*e.span,n=e.fields.reduce((e,t)=>e+t.bits,0);if(t+n>i)throw Error("bits too long for span remainder ("+(i-n)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=n,this.container.msb&&(this.start=i-n-t),this.wordMask=E(this.valueMask<<this.start),this.property=r}decode(e,t){return E(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==E(e&this.valueMask))throw TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=E(e<<this.start);this.container._packedSetValue(E(t&~this.wordMask)|r)}}class A extends M{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}class k extends o{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),s(e).slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof u&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw TypeError(a("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>t.length)throw RangeError("encoding overruns Uint8Array");let n=s(e);return s(t).write(n.toString("hex"),r,i,"hex"),this.length instanceof u&&this.length.encode(i,t,r),i}}t.cv=(e,t,r)=>new l(e,t,r),t.u8=e=>new h(1,e),t.KB=e=>new h(2,e),t.Jq=e=>new h(4,e),t._O=e=>new p(e),t.gM=e=>new m(e),t.n_=(e,t,r)=>new y(e,t,r),t.A9=(e,t,r)=>new g(e,t,r),t.Ik=(e,t)=>new k(e,t)},8162:function(e,t,r){"use strict";var i=r(9509).Buffer;e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==t[o])throw TypeError(s+" is ambiguous");t[o]=n}var a=e.length,u=e.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return i.alloc(0);for(var r=0,n=0,s=0;e[r]===u;)n++,r++;for(var o=(e.length-r)*l+1>>>0,h=new Uint8Array(o);r<e.length;){var f=e.charCodeAt(r);if(f>255)return;var c=t[f];if(255===c)return;for(var d=0,p=o-1;(0!==c||d<s)&&-1!==p;p--,d++)c+=a*h[p]>>>0,h[p]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");s=d,r++}for(var m=o-s;m!==o&&0===h[m];)m++;var g=i.allocUnsafe(n+(o-m));g.fill(0,0,n);for(var y=n;m!==o;)g[y++]=h[m++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=i.from(t)),!i.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var l=(o-s)*h+1>>>0,f=new Uint8Array(l);s!==o;){for(var c=t[s],d=0,p=l-1;(0!==c||d<n)&&-1!==p;p--,d++)c+=256*f[p]>>>0,f[p]=c%a>>>0,c=c/a>>>0;if(0!==c)throw Error("Non-zero carry");n=d,s++}for(var m=l-n;m!==l&&0===f[m];)m++;for(var g=u.repeat(r);m<l;++m)g+=e.charAt(f[m]);return g},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw Error("Non-base"+a+" character")}}}},3550:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{f="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void i(!1,"Invalid character in "+e)}function a(e,t,r){var i=o(e,r);return r-1>=t&&(i|=o(e,r-1)<<4),i}function u(e,t,r,n){for(var s=0,o=0,a=Math.min(e.length,r),u=t;u<a;u++){var l=e.charCodeAt(u)-48;s*=n,o=l>=49?l-49+10:l>=17?l-17+10:l,i(l>=0&&o<n,"Invalid character"),s+=o}return s}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return 0>e.cmp(t)?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var n,s,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===r)for(o=e.length-1,n=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[n]|=s<<a&67108863,this.words[n+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);else if("le"===r)for(o=0,n=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[n]|=s<<a&67108863,this.words[n+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);return this._strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var i,n=0;n<this.length;n++)this.words[n]=0;var s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,o=s%i,a=Math.min(s,s-o)+r,l=0,h=r;h<a;h+=i)l=u(e,h,h+i,t),this.imuln(n),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var f=1;for(l=u(e,h,e.length,t),h=0;h<o;h++)f*=t;this.imuln(f),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},s.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){l(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(e){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f,c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],o=n*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var l=1;l<i;l++){for(var h=u>>>26,f=67108863&u,c=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=c;d++){var p=l-d|0;h+=(o=(n=0|e.words[p])*(s=0|t.words[d])+f)/67108864|0,f=67108863&o}r.words[l]=0|f,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}s.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var r,n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=((a<<n|s)&16777215).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),r=0!==s||o!==this.length-1?c[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],h=p[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modrn(h).toString(e);r=(f=f.idivn(h)).isZero()?m+r:c[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},f&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(f,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){this._strip();var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0");var o=e.allocUnsafe?e.allocUnsafe(s):new e(s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,n),o},s.prototype._toArrayLikeLE=function(e,t){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===s?(r<e.length&&(e[r++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r<e.length)for(e[r++]=i;r<e.length;)e[r++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===s?(r>=0&&(e[r--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r>=0)for(e[r--]=i;r>=0;)e[r--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return i((this.negative|e.negative)==0),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return i((this.negative|e.negative)==0),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return i((this.negative|e.negative)==0),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this._strip()},s.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var t,r,i,n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,i=this.iadd(e);return e.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(t=this,r=e):(t=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(i=(0|t.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&i;for(;0!==s&&o<t.length;o++)s=(i=(0|t.words[o])+s)>>26,this.words[o]=67108863&i;if(0===s&&o<t.length&&t!==this)for(;o<t.length;o++)this.words[o]=t.words[o];return this.length=Math.max(this.length,o),t!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var i,n,s,o=e.words,a=t.words,u=r.words,l=0,h=0|o[0],f=8191&h,c=h>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,E=0|o[4],x=8191&E,M=E>>>13,A=0|o[5],k=8191&A,O=A>>>13,B=0|o[6],S=8191&B,I=B>>>13,R=0|o[7],T=8191&R,U=R>>>13,N=0|o[8],P=8191&N,j=N>>>13,L=0|o[9],C=8191&L,Z=L>>>13,F=0|a[0],$=8191&F,D=F>>>13,q=0|a[1],z=8191&q,V=q>>>13,H=0|a[2],G=8191&H,K=H>>>13,W=0|a[3],J=8191&W,Y=W>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,et=0|a[5],er=8191&et,ei=et>>>13,en=0|a[6],es=8191&en,eo=en>>>13,ea=0|a[7],eu=8191&ea,el=ea>>>13,eh=0|a[8],ef=8191&eh,ec=eh>>>13,ed=0|a[9],ep=8191&ed,em=ed>>>13;r.negative=e.negative^t.negative,r.length=19;var eg=(l+(i=Math.imul(f,$))|0)+((8191&(n=(n=Math.imul(f,D))+Math.imul(c,$)|0))<<13)|0;l=((s=Math.imul(c,D))+(n>>>13)|0)+(eg>>>26)|0,eg&=67108863,i=Math.imul(p,$),n=(n=Math.imul(p,D))+Math.imul(m,$)|0,s=Math.imul(m,D);var ey=(l+(i=i+Math.imul(f,z)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,z)|0))<<13)|0;l=((s=s+Math.imul(c,V)|0)+(n>>>13)|0)+(ey>>>26)|0,ey&=67108863,i=Math.imul(y,$),n=(n=Math.imul(y,D))+Math.imul(v,$)|0,s=Math.imul(v,D),i=i+Math.imul(p,z)|0,n=(n=n+Math.imul(p,V)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,V)|0;var ev=(l+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,K)|0)+Math.imul(c,G)|0))<<13)|0;l=((s=s+Math.imul(c,K)|0)+(n>>>13)|0)+(ev>>>26)|0,ev&=67108863,i=Math.imul(w,$),n=(n=Math.imul(w,D))+Math.imul(_,$)|0,s=Math.imul(_,D),i=i+Math.imul(y,z)|0,n=(n=n+Math.imul(y,V)|0)+Math.imul(v,z)|0,s=s+Math.imul(v,V)|0,i=i+Math.imul(p,G)|0,n=(n=n+Math.imul(p,K)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,K)|0;var eb=(l+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,Y)|0)+Math.imul(c,J)|0))<<13)|0;l=((s=s+Math.imul(c,Y)|0)+(n>>>13)|0)+(eb>>>26)|0,eb&=67108863,i=Math.imul(x,$),n=(n=Math.imul(x,D))+Math.imul(M,$)|0,s=Math.imul(M,D),i=i+Math.imul(w,z)|0,n=(n=n+Math.imul(w,V)|0)+Math.imul(_,z)|0,s=s+Math.imul(_,V)|0,i=i+Math.imul(y,G)|0,n=(n=n+Math.imul(y,K)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,K)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,Y)|0;var ew=(l+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,ee)|0)+Math.imul(c,Q)|0))<<13)|0;l=((s=s+Math.imul(c,ee)|0)+(n>>>13)|0)+(ew>>>26)|0,ew&=67108863,i=Math.imul(k,$),n=(n=Math.imul(k,D))+Math.imul(O,$)|0,s=Math.imul(O,D),i=i+Math.imul(x,z)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(M,z)|0,s=s+Math.imul(M,V)|0,i=i+Math.imul(w,G)|0,n=(n=n+Math.imul(w,K)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,K)|0,i=i+Math.imul(y,J)|0,n=(n=n+Math.imul(y,Y)|0)+Math.imul(v,J)|0,s=s+Math.imul(v,Y)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,ee)|0;var e_=(l+(i=i+Math.imul(f,er)|0)|0)+((8191&(n=(n=n+Math.imul(f,ei)|0)+Math.imul(c,er)|0))<<13)|0;l=((s=s+Math.imul(c,ei)|0)+(n>>>13)|0)+(e_>>>26)|0,e_&=67108863,i=Math.imul(S,$),n=(n=Math.imul(S,D))+Math.imul(I,$)|0,s=Math.imul(I,D),i=i+Math.imul(k,z)|0,n=(n=n+Math.imul(k,V)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,V)|0,i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,K)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,K)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,Y)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,ee)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,ee)|0,i=i+Math.imul(p,er)|0,n=(n=n+Math.imul(p,ei)|0)+Math.imul(m,er)|0,s=s+Math.imul(m,ei)|0;var eE=(l+(i=i+Math.imul(f,es)|0)|0)+((8191&(n=(n=n+Math.imul(f,eo)|0)+Math.imul(c,es)|0))<<13)|0;l=((s=s+Math.imul(c,eo)|0)+(n>>>13)|0)+(eE>>>26)|0,eE&=67108863,i=Math.imul(T,$),n=(n=Math.imul(T,D))+Math.imul(U,$)|0,s=Math.imul(U,D),i=i+Math.imul(S,z)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(I,z)|0,s=s+Math.imul(I,V)|0,i=i+Math.imul(k,G)|0,n=(n=n+Math.imul(k,K)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,K)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,Y)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,Y)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,ee)|0,i=i+Math.imul(y,er)|0,n=(n=n+Math.imul(y,ei)|0)+Math.imul(v,er)|0,s=s+Math.imul(v,ei)|0,i=i+Math.imul(p,es)|0,n=(n=n+Math.imul(p,eo)|0)+Math.imul(m,es)|0,s=s+Math.imul(m,eo)|0;var ex=(l+(i=i+Math.imul(f,eu)|0)|0)+((8191&(n=(n=n+Math.imul(f,el)|0)+Math.imul(c,eu)|0))<<13)|0;l=((s=s+Math.imul(c,el)|0)+(n>>>13)|0)+(ex>>>26)|0,ex&=67108863,i=Math.imul(P,$),n=(n=Math.imul(P,D))+Math.imul(j,$)|0,s=Math.imul(j,D),i=i+Math.imul(T,z)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(U,z)|0,s=s+Math.imul(U,V)|0,i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,K)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,K)|0,i=i+Math.imul(k,J)|0,n=(n=n+Math.imul(k,Y)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,Y)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,i=i+Math.imul(w,er)|0,n=(n=n+Math.imul(w,ei)|0)+Math.imul(_,er)|0,s=s+Math.imul(_,ei)|0,i=i+Math.imul(y,es)|0,n=(n=n+Math.imul(y,eo)|0)+Math.imul(v,es)|0,s=s+Math.imul(v,eo)|0,i=i+Math.imul(p,eu)|0,n=(n=n+Math.imul(p,el)|0)+Math.imul(m,eu)|0,s=s+Math.imul(m,el)|0;var eM=(l+(i=i+Math.imul(f,ef)|0)|0)+((8191&(n=(n=n+Math.imul(f,ec)|0)+Math.imul(c,ef)|0))<<13)|0;l=((s=s+Math.imul(c,ec)|0)+(n>>>13)|0)+(eM>>>26)|0,eM&=67108863,i=Math.imul(C,$),n=(n=Math.imul(C,D))+Math.imul(Z,$)|0,s=Math.imul(Z,D),i=i+Math.imul(P,z)|0,n=(n=n+Math.imul(P,V)|0)+Math.imul(j,z)|0,s=s+Math.imul(j,V)|0,i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,K)|0)+Math.imul(U,G)|0,s=s+Math.imul(U,K)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(I,J)|0,s=s+Math.imul(I,Y)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,ee)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,ee)|0,i=i+Math.imul(x,er)|0,n=(n=n+Math.imul(x,ei)|0)+Math.imul(M,er)|0,s=s+Math.imul(M,ei)|0,i=i+Math.imul(w,es)|0,n=(n=n+Math.imul(w,eo)|0)+Math.imul(_,es)|0,s=s+Math.imul(_,eo)|0,i=i+Math.imul(y,eu)|0,n=(n=n+Math.imul(y,el)|0)+Math.imul(v,eu)|0,s=s+Math.imul(v,el)|0,i=i+Math.imul(p,ef)|0,n=(n=n+Math.imul(p,ec)|0)+Math.imul(m,ef)|0,s=s+Math.imul(m,ec)|0;var eA=(l+(i=i+Math.imul(f,ep)|0)|0)+((8191&(n=(n=n+Math.imul(f,em)|0)+Math.imul(c,ep)|0))<<13)|0;l=((s=s+Math.imul(c,em)|0)+(n>>>13)|0)+(eA>>>26)|0,eA&=67108863,i=Math.imul(C,z),n=(n=Math.imul(C,V))+Math.imul(Z,z)|0,s=Math.imul(Z,V),i=i+Math.imul(P,G)|0,n=(n=n+Math.imul(P,K)|0)+Math.imul(j,G)|0,s=s+Math.imul(j,K)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,Y)|0)+Math.imul(U,J)|0,s=s+Math.imul(U,Y)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,ee)|0,i=i+Math.imul(k,er)|0,n=(n=n+Math.imul(k,ei)|0)+Math.imul(O,er)|0,s=s+Math.imul(O,ei)|0,i=i+Math.imul(x,es)|0,n=(n=n+Math.imul(x,eo)|0)+Math.imul(M,es)|0,s=s+Math.imul(M,eo)|0,i=i+Math.imul(w,eu)|0,n=(n=n+Math.imul(w,el)|0)+Math.imul(_,eu)|0,s=s+Math.imul(_,el)|0,i=i+Math.imul(y,ef)|0,n=(n=n+Math.imul(y,ec)|0)+Math.imul(v,ef)|0,s=s+Math.imul(v,ec)|0;var ek=(l+(i=i+Math.imul(p,ep)|0)|0)+((8191&(n=(n=n+Math.imul(p,em)|0)+Math.imul(m,ep)|0))<<13)|0;l=((s=s+Math.imul(m,em)|0)+(n>>>13)|0)+(ek>>>26)|0,ek&=67108863,i=Math.imul(C,G),n=(n=Math.imul(C,K))+Math.imul(Z,G)|0,s=Math.imul(Z,K),i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(j,J)|0,s=s+Math.imul(j,Y)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,ee)|0)+Math.imul(U,Q)|0,s=s+Math.imul(U,ee)|0,i=i+Math.imul(S,er)|0,n=(n=n+Math.imul(S,ei)|0)+Math.imul(I,er)|0,s=s+Math.imul(I,ei)|0,i=i+Math.imul(k,es)|0,n=(n=n+Math.imul(k,eo)|0)+Math.imul(O,es)|0,s=s+Math.imul(O,eo)|0,i=i+Math.imul(x,eu)|0,n=(n=n+Math.imul(x,el)|0)+Math.imul(M,eu)|0,s=s+Math.imul(M,el)|0,i=i+Math.imul(w,ef)|0,n=(n=n+Math.imul(w,ec)|0)+Math.imul(_,ef)|0,s=s+Math.imul(_,ec)|0;var eO=(l+(i=i+Math.imul(y,ep)|0)|0)+((8191&(n=(n=n+Math.imul(y,em)|0)+Math.imul(v,ep)|0))<<13)|0;l=((s=s+Math.imul(v,em)|0)+(n>>>13)|0)+(eO>>>26)|0,eO&=67108863,i=Math.imul(C,J),n=(n=Math.imul(C,Y))+Math.imul(Z,J)|0,s=Math.imul(Z,Y),i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(j,Q)|0,s=s+Math.imul(j,ee)|0,i=i+Math.imul(T,er)|0,n=(n=n+Math.imul(T,ei)|0)+Math.imul(U,er)|0,s=s+Math.imul(U,ei)|0,i=i+Math.imul(S,es)|0,n=(n=n+Math.imul(S,eo)|0)+Math.imul(I,es)|0,s=s+Math.imul(I,eo)|0,i=i+Math.imul(k,eu)|0,n=(n=n+Math.imul(k,el)|0)+Math.imul(O,eu)|0,s=s+Math.imul(O,el)|0,i=i+Math.imul(x,ef)|0,n=(n=n+Math.imul(x,ec)|0)+Math.imul(M,ef)|0,s=s+Math.imul(M,ec)|0;var eB=(l+(i=i+Math.imul(w,ep)|0)|0)+((8191&(n=(n=n+Math.imul(w,em)|0)+Math.imul(_,ep)|0))<<13)|0;l=((s=s+Math.imul(_,em)|0)+(n>>>13)|0)+(eB>>>26)|0,eB&=67108863,i=Math.imul(C,Q),n=(n=Math.imul(C,ee))+Math.imul(Z,Q)|0,s=Math.imul(Z,ee),i=i+Math.imul(P,er)|0,n=(n=n+Math.imul(P,ei)|0)+Math.imul(j,er)|0,s=s+Math.imul(j,ei)|0,i=i+Math.imul(T,es)|0,n=(n=n+Math.imul(T,eo)|0)+Math.imul(U,es)|0,s=s+Math.imul(U,eo)|0,i=i+Math.imul(S,eu)|0,n=(n=n+Math.imul(S,el)|0)+Math.imul(I,eu)|0,s=s+Math.imul(I,el)|0,i=i+Math.imul(k,ef)|0,n=(n=n+Math.imul(k,ec)|0)+Math.imul(O,ef)|0,s=s+Math.imul(O,ec)|0;var eS=(l+(i=i+Math.imul(x,ep)|0)|0)+((8191&(n=(n=n+Math.imul(x,em)|0)+Math.imul(M,ep)|0))<<13)|0;l=((s=s+Math.imul(M,em)|0)+(n>>>13)|0)+(eS>>>26)|0,eS&=67108863,i=Math.imul(C,er),n=(n=Math.imul(C,ei))+Math.imul(Z,er)|0,s=Math.imul(Z,ei),i=i+Math.imul(P,es)|0,n=(n=n+Math.imul(P,eo)|0)+Math.imul(j,es)|0,s=s+Math.imul(j,eo)|0,i=i+Math.imul(T,eu)|0,n=(n=n+Math.imul(T,el)|0)+Math.imul(U,eu)|0,s=s+Math.imul(U,el)|0,i=i+Math.imul(S,ef)|0,n=(n=n+Math.imul(S,ec)|0)+Math.imul(I,ef)|0,s=s+Math.imul(I,ec)|0;var eI=(l+(i=i+Math.imul(k,ep)|0)|0)+((8191&(n=(n=n+Math.imul(k,em)|0)+Math.imul(O,ep)|0))<<13)|0;l=((s=s+Math.imul(O,em)|0)+(n>>>13)|0)+(eI>>>26)|0,eI&=67108863,i=Math.imul(C,es),n=(n=Math.imul(C,eo))+Math.imul(Z,es)|0,s=Math.imul(Z,eo),i=i+Math.imul(P,eu)|0,n=(n=n+Math.imul(P,el)|0)+Math.imul(j,eu)|0,s=s+Math.imul(j,el)|0,i=i+Math.imul(T,ef)|0,n=(n=n+Math.imul(T,ec)|0)+Math.imul(U,ef)|0,s=s+Math.imul(U,ec)|0;var eR=(l+(i=i+Math.imul(S,ep)|0)|0)+((8191&(n=(n=n+Math.imul(S,em)|0)+Math.imul(I,ep)|0))<<13)|0;l=((s=s+Math.imul(I,em)|0)+(n>>>13)|0)+(eR>>>26)|0,eR&=67108863,i=Math.imul(C,eu),n=(n=Math.imul(C,el))+Math.imul(Z,eu)|0,s=Math.imul(Z,el),i=i+Math.imul(P,ef)|0,n=(n=n+Math.imul(P,ec)|0)+Math.imul(j,ef)|0,s=s+Math.imul(j,ec)|0;var eT=(l+(i=i+Math.imul(T,ep)|0)|0)+((8191&(n=(n=n+Math.imul(T,em)|0)+Math.imul(U,ep)|0))<<13)|0;l=((s=s+Math.imul(U,em)|0)+(n>>>13)|0)+(eT>>>26)|0,eT&=67108863,i=Math.imul(C,ef),n=(n=Math.imul(C,ec))+Math.imul(Z,ef)|0,s=Math.imul(Z,ec);var eU=(l+(i=i+Math.imul(P,ep)|0)|0)+((8191&(n=(n=n+Math.imul(P,em)|0)+Math.imul(j,ep)|0))<<13)|0;l=((s=s+Math.imul(j,em)|0)+(n>>>13)|0)+(eU>>>26)|0,eU&=67108863;var eN=(l+(i=Math.imul(C,ep))|0)+((8191&(n=(n=Math.imul(C,em))+Math.imul(Z,ep)|0))<<13)|0;return l=((s=Math.imul(Z,em))+(n>>>13)|0)+(eN>>>26)|0,eN&=67108863,u[0]=eg,u[1]=ey,u[2]=ev,u[3]=eb,u[4]=ew,u[5]=e_,u[6]=eE,u[7]=ex,u[8]=eM,u[9]=eA,u[10]=ek,u[11]=eO,u[12]=eB,u[13]=eS,u[14]=eI,u[15]=eR,u[16]=eT,u[17]=eU,u[18]=eN,0!==l&&(u[19]=l,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,u=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=u;l++){var h=s-l,f=(0|e.words[h])*(0|t.words[l]),c=67108863&f;o=o+(f/67108864|0)|0,a=67108863&(c=c+a|0),n+=(o=o+(c>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function v(e,t){this.x=e,this.y=t}Math.imul||(g=m),s.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):i<63?m(this,e,t):y(this,e,t)},v.prototype.makeRBT=function(e){for(var t=Array(e),r=s.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},v.prototype.permute=function(e,t,r,i,n,s){for(var o=0;o<s;o++)i[o]=t[e[o]],n[o]=r[e[o]]},v.prototype.transform=function(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<n;h+=a)for(var f=u,c=l,d=0;d<o;d++){var p=r[h+d],m=i[h+d],g=r[h+d+o],y=i[h+d+o],v=f*g-c*y;y=f*y+c*g,g=v,r[h+d]=p+g,i[h+d]=m+y,r[h+d+o]=p-g,i[h+d+o]=m-y,d!==a&&(v=u*f-l*c,c=u*c+l*f,f=v)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},v.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},v.prototype.convert13b=function(e,t,r,n){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<n;++o)r[o]=0;i(0===s),i((-8192&s)==0)},v.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),o=Array(i),a=Array(i),u=Array(i),l=Array(i),h=Array(i),f=Array(i),c=r.words;c.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,l,i),this.transform(o,s,a,u,i,n),this.transform(l,s,h,f,i,n);for(var d=0;d<i;d++){var p=a[d]*h[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,c,s,i,n),this.conjugate(c,s,i),this.normalize13b(c,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=Array(this.length+e.length),y(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),i("number"==typeof e),i(e<67108864);for(var r=0,n=0;n<this.length;n++){var s=(0|this.words[n])*e,o=(67108863&s)+(67108863&r);r>>=26,r+=(s/67108864|0)+(o>>>26),this.words[n]=67108863&o}return 0!==r&&(this.words[n]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=e.words[i]>>>n&1}return t}(e);if(0===t.length)return new s(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},s.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){i("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var n,s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s;if(n-=o,n=Math.max(0,n),r){for(var u=0;u<o;u++)r.words[u]=this.words[u];r.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s,l=h&a}return r&&0!==l&&(r.words[r.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r)&&!!(this.words[r]&1<<t)},s.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return(i("number"==typeof e),i(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var n,s,o=e.length+r;this._expand(o);var a=0;for(n=0;n<e.length;n++){s=(0|this.words[n+r])+a;var u=(0|e.words[n])*t;s-=67108863&u,a=(s>>26)-(u/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this._strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var r,i=this.length-e.length,n=this.clone(),o=e,a=0|o.words[o.length-1];0!=(i=26-this._countBits(a))&&(o=o.ushln(i),n.iushln(i),a=0|o.words[o.length-1]);var u=n.length-o.length;if("mod"!==t){(r=new s(null)).length=u+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var h=n.clone()._ishlnsubmul(o,1,u);0===h.negative&&(n=h,r&&(r.words[u]=1));for(var f=u-1;f>=0;f--){var c=(0|n.words[o.length+f])*67108864+(0|n.words[o.length+f-1]);for(c=Math.min(c/a|0,67108863),n._ishlnsubmul(o,c,f);0!==n.negative;)c--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);r&&(r.words[f]=c)}return r&&r._strip(),n._strip(),"div"!==t&&0!==i&&n.iushrn(i),{div:r||null,mod:n}},s.prototype.divmod=function(e,t,r){var n,o,a;return(i(!e.isZero()),this.isZero())?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:n,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):(this.negative&e.negative)!=0?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||0>this.cmp(e)?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t)},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var r=67108864%e,n=0,s=this.length-1;s>=0;s--)n=(r*n+(0|this.words[s]))%e;return t?-n:n},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var s=(0|this.words[n])+67108864*r;this.words[n]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new s(1),o=new s(0),a=new s(0),u=new s(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),f=t.clone();!t.isZero();){for(var c=0,d=1;(t.words[0]&d)==0&&c<26;++c,d<<=1);if(c>0)for(t.iushrn(c);c-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(h),o.isub(f)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;(r.words[0]&m)==0&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(f)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),o.isub(u)):(r.isub(t),a.isub(n),u.isub(o))}return{a:a,b:u,gcd:r.iushln(l)}},s.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t,r=this,n=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var o=new s(1),a=new s(0),u=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,h=1;(r.words[0]&h)==0&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,c=1;(n.words[0]&c)==0&&f<26;++f,c<<=1);if(f>0)for(n.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);r.cmp(n)>=0?(r.isub(n),o.isub(a)):(n.isub(r),a.isub(o))}return 0>(t=0===r.cmpn(1)?o:a).cmpn(0)&&t.iadd(e),t},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return -1===this.cmpn(e)},s.prototype.lt=function(e){return -1===this.cmp(e)},s.prototype.lten=function(e){return 0>=this.cmpn(e)},s.prototype.lte=function(e){return 0>=this.cmp(e)},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new A(e)},s.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new s(null);return e.words=Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},n(_,w),_.prototype.split=function(e,t){for(var r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var n=e.words[9];for(i=10,t.words[t.length++]=4194303&n;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(4194303&s)<<4|n>>>22,n=s}n>>>=22,e.words[i-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(E,w),n(x,w),n(M,w),M.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=(0|e.words[r])*19+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){var t;if(b[e])return b[e];if("k256"===e)t=new _;else if("p224"===e)t=new E;else if("p192"===e)t=new x;else if("p25519"===e)t=new M;else throw Error("Unknown prime "+e);return b[e]=t,t},A.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){i((e.negative|t.negative)==0,"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var f=this.pow(h,n),c=this.pow(e,n.addn(1).iushrn(1)),d=this.pow(e,n),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));c=c.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return c},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],h=u-1;h>=0;h--){var f=l>>h&1;if(n!==r[0]&&(n=this.sqr(n)),0===f&&0===o){a=0;continue}o<<=1,o|=f,(4==++a||0===i&&0===h)&&(n=this.mul(n,r[o]),a=0,o=0)}u=26}return n},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new k(e)},n(k,A),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):0>n.cmpn(0)&&(s=n.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):0>n.cmpn(0)&&(o=n.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},5532:function(e,t,r){"use strict";var i=r(8764).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;let l=u(r(3550)),h=u(r(7191)),f=a(r(1379)),c=new("function"!=typeof TextDecoder?f.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"==typeof e&&(e=i.from(e,"utf8")),h.default.encode(i.from(e))},t.baseDecode=function(e){return i.from(h.default.decode(e))};class d extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=d;class p{constructor(){this.buf=i.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=i.concat([this.buf,i.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(i.from(new l.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(i.from(new l.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(i.from(new l.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(i.from(new l.default(e).toArray("le",64)))}writeBuffer(e){this.buf=i.concat([i.from(this.buf.subarray(0,this.length)),e,i.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=i.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(i.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){let i=r.value;r.value=function(...e){try{return i.apply(this,e)}catch(e){if(e instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e.code)>=0)throw new d("Reached the end of buffer when deserializing");throw e}}}t.BinaryWriter=p;class g{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new l.default(e,"le")}readU128(){let e=this.readBuffer(16);return new l.default(e,"le")}readU256(){let e=this.readBuffer(32);return new l.default(e,"le")}readU512(){let e=this.readBuffer(64);return new l.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new d(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return c.decode(t)}catch(e){throw new d(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let i=0;i<t;++i)r.push(e());return r}}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function v(e,t,r,i,n){try{if("string"==typeof i)n[`write${y(i)}`](r);else if(i instanceof Array){if("number"==typeof i[0]){if(r.length!==i[0])throw new d(`Expecting byte array of length ${i[0]}, but got ${r.length} bytes`);n.writeFixedArray(r)}else if(2===i.length&&"number"==typeof i[1]){if(r.length!==i[1])throw new d(`Expecting byte array of length ${i[1]}, but got ${r.length} bytes`);for(let t=0;t<i[1];t++)v(e,null,r[t],i[0],n)}else n.writeArray(r,r=>{v(e,t,r,i[0],n)})}else if(void 0!==i.kind)switch(i.kind){case"option":null==r?n.writeU8(0):(n.writeU8(1),v(e,t,r,i.type,n));break;case"map":n.writeU32(r.size),r.forEach((r,s)=>{v(e,t,s,i.key,n),v(e,t,r,i.value,n)});break;default:throw new d(`FieldType ${i} unrecognized`)}else b(e,r,n)}catch(e){throw e instanceof d&&e.addToFieldPath(t),e}}function b(e,t,r){if("function"==typeof t.borshSerialize){t.borshSerialize(r);return}let i=e.get(t.constructor);if(!i)throw new d(`Class ${t.constructor.name} is missing in schema`);if("struct"===i.kind)i.fields.map(([i,n])=>{v(e,i,t[i],n,r)});else if("enum"===i.kind){let n=t[i.field];for(let s=0;s<i.values.length;++s){let[o,a]=i.values[s];if(o===n){r.writeU8(s),v(e,o,t[o],a,r);break}}}else throw new d(`Unexpected schema kind: ${i.kind} for ${t.constructor.name}`)}function w(e,t,r,i){try{if("string"==typeof r)return i[`read${y(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return i.readFixedArray(r[0]);if("number"!=typeof r[1])return i.readArray(()=>w(e,t,r[0],i));{let t=[];for(let n=0;n<r[1];n++)t.push(w(e,null,r[0],i));return t}}if("option"===r.kind){if(i.readU8())return w(e,t,r.type,i);return}if("map"===r.kind){let n=new Map,s=i.readU32();for(let o=0;o<s;o++){let s=w(e,t,r.key,i),o=w(e,t,r.value,i);n.set(s,o)}return n}return _(e,r,i)}catch(e){throw e instanceof d&&e.addToFieldPath(t),e}}function _(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let i=e.get(t);if(!i)throw new d(`Class ${t.name} is missing in schema`);if("struct"===i.kind){let i={};for(let[n,s]of e.get(t).fields)i[n]=w(e,n,s,r);return new t(i)}if("enum"===i.kind){let n=r.readU8();if(n>=i.values.length)throw new d(`Enum index: ${n} is out of range`);let[s,o]=i.values[n],a=w(e,s,o,r);return new t({[s]:a})}throw new d(`Unexpected schema kind: ${i.kind} for ${t.constructor.name}`)}o([m],g.prototype,"readU8",null),o([m],g.prototype,"readU16",null),o([m],g.prototype,"readU32",null),o([m],g.prototype,"readU64",null),o([m],g.prototype,"readU128",null),o([m],g.prototype,"readU256",null),o([m],g.prototype,"readU512",null),o([m],g.prototype,"readString",null),o([m],g.prototype,"readFixedArray",null),o([m],g.prototype,"readArray",null),t.BinaryReader=g,t.serialize=function(e,t,r=p){let i=new r;return b(e,t,i),i.toArray()},t.deserialize=function(e,t,r,i=g){let n=new i(r),s=_(e,t,n);if(n.offset<r.length)throw new d(`Unexpected ${r.length-n.offset} bytes after deserialized data`);return s},t.deserializeUnchecked=function(e,t,r,i=g){return _(e,t,new i(r))}},7191:function(e,t,r){var i=r(8162);e.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8764:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let i=r(2191),n=r(645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),i=o(r),n=i.write(e,t);return n!==r&&(i=i.slice(0,n)),i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(L(e,Uint8Array)){let t=new Uint8Array(e);return c(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(L(e,ArrayBuffer)||e&&L(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(L(e,SharedArrayBuffer)||e&&L(e.buffer,SharedArrayBuffer)))return c(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return a.from(i,t,r);let n=function(e){var t;if(a.isBuffer(e)){let t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),o(e<0?0:0|d(e))}function f(e){let t=e.length<0?0:0|d(e.length),r=o(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function c(e,t,r){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),i}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||L(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return P(e).length;default:if(n)return i?-1:N(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=t;i<r;++i)n+=C[e[i]];return n}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}(this,t,r);case"latin1":case"binary":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}(this,t,r);case"base64":var s,o;return s=t,o=r,0===s&&o===this.length?i.fromByteArray(this):i.fromByteArray(this.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let i=e.slice(t,r),n="";for(let e=0;e<i.length-1;e+=2)n+=String.fromCharCode(i[e]+256*i[e+1]);return n}(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function y(e,t,r,i,n){var s;if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(s=r=+r)!=s&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return -1;r=e.length-1}else if(r<0){if(!n)return -1;r=0}if("string"==typeof t&&(t=a.from(t,i)),a.isBuffer(t))return 0===t.length?-1:v(e,t,r,i,n);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,i,n);throw TypeError("val must be string, number or Buffer")}function v(e,t,r,i,n){let s,o=1,a=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;o=2,a/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(n){let i=-1;for(s=r;s<a;s++)if(l(e,s)===l(t,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===u)return i*o}else -1!==i&&(s-=s-i),i=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let i=0;i<u;i++)if(l(e,s+i)!==l(t,i)){r=!1;break}if(r)return s}return -1}function b(e,t,r){r=Math.min(e.length,r);let i=[],n=t;for(;n<r;){let t=e[n],s=null,o=t>239?4:t>223?3:t>191?2:1;if(n+o<=r){let r,i,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:(192&(r=e[n+1]))==128&&(u=(31&t)<<6|63&r)>127&&(s=u);break;case 3:r=e[n+1],i=e[n+2],(192&r)==128&&(192&i)==128&&(u=(15&t)<<12|(63&r)<<6|63&i)>2047&&(u<55296||u>57343)&&(s=u);break;case 4:r=e[n+1],i=e[n+2],a=e[n+3],(192&r)==128&&(192&i)==128&&(192&a)==128&&(u=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&a)>65535&&u<1114112&&(s=u)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=o}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return r}(i)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,i,n,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function E(e,t,r,i,n){I(t,i,n,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function x(e,t,r,i,n){I(t,i,n,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function M(e,t,r,i,n,s){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function A(e,t,r,i,s){return t=+t,r>>>=0,s||M(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,i,23,4),r+4}function k(e,t,r,i,s){return t=+t,r>>>=0,s||M(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,i,52,8),r+8}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(l(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return h(e)},a.allocUnsafeSlow=function(e){return h(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),L(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,s=Math.min(r,i);n<s;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let i=a.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){let t=e[r];if(L(t,Uint8Array))n+t.length>i.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(i,n)):Uint8Array.prototype.set.call(i,t,n);else if(a.isBuffer(t))t.copy(i,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=t.length}return i},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(e,t,r,i,n){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;let s=n-i,o=r-t,u=Math.min(s,o),l=this.slice(i,n),h=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==h[e]){s=l[e],o=h[e];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},a.prototype.write=function(e,t,r,i){var n,s,o,a,u,l,h,f;if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let c=this.length-t;if((void 0===r||r>c)&&(r=c),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let d=!1;for(;;)switch(i){case"hex":return function(e,t,r,i){let n;r=Number(r)||0;let s=e.length-r;i?(i=Number(i))>s&&(i=s):i=s;let o=t.length;for(i>o/2&&(i=o/2),n=0;n<i;++n){let i=parseInt(t.substr(2*n,2),16);if(i!=i)break;e[r+n]=i}return n}(this,e,t,r);case"utf8":case"utf-8":return n=t,s=r,j(N(e,this.length-n),this,n,s);case"ascii":case"latin1":case"binary":return o=t,a=r,j(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,a);case"base64":return u=t,l=r,j(P(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h=t,f=r,j(function(e,t){let r,i;let n=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)i=(r=e.charCodeAt(s))>>8,n.push(r%256),n.push(i);return n}(e,this.length-h),this,h,f);default:if(d)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,a.prototype),i},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=Z(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&T(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+16777216*this[++e],n=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(i)+(BigInt(n)<<BigInt(32))}),a.prototype.readBigUInt64BE=Z(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&T(e,this.length-8);let i=16777216*t+65536*this[++e]+256*this[++e]+this[++e],n=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=t,n=1,s=this[e+--i];for(;i>0&&(n*=256);)s+=this[e+--i]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=Z(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&T(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),a.prototype.readBigInt64BE=Z(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&T(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}let n=1,s=0;for(this[t]=255&e;++s<r&&(n*=256);)this[t+s]=e/n&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}let n=r-1,s=1;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=Z(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Z(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}let n=0,s=1,o=0;for(this[t]=255&e;++n<r&&(s*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/s>>0)-o&255;return t+r},a.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}let n=r-1,s=1,o=0;for(this[t+n]=255&e;--n>=0&&(s*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/s>>0)-o&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=Z(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Z(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,i){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},a.prototype.fill=function(e,t,r,i){let n;if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{let s=a.isBuffer(e)?e:a.from(e,i),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=s[n%o]}return this};let O={};function B(e,t,r){O[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function S(e){let t="",r=e.length,i="-"===e[0]?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function I(e,t,r,i,n,s){if(e>r||e<t){let i;let n="bigint"==typeof t?"n":"";throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(s+1)*8}${n}`:`>= -(2${n} ** ${(s+1)*8-1}${n}) and < 2 ** ${(s+1)*8-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new O.ERR_OUT_OF_RANGE("value",i,e)}R(n,"offset"),(void 0===i[n]||void 0===i[n+s])&&T(n,i.length-(s+1))}function R(e,t){if("number"!=typeof e)throw new O.ERR_INVALID_ARG_TYPE(t,"number",e)}function T(e,t,r){if(Math.floor(e)!==e)throw R(e,r),new O.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new O.ERR_BUFFER_OUT_OF_BOUNDS;throw new O.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),B("ERR_OUT_OF_RANGE",function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?n=S(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=S(n)),n+="n"),i+=` It must be ${t}. Received ${n}`},RangeError);let U=/[^+/0-9A-Za-z-_]/g;function N(e,t){let r;t=t||1/0;let i=e.length,n=null,s=[];for(let o=0;o<i;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!n){if(r>56319||o+1===i){(t-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function P(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function L(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let C=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let i=16*r;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function Z(e){return"undefined"==typeof BigInt?F:e}function F(){throw Error("BigInt not supported")}},2191:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],i=t[1];return(r+i)*3/4-i},t.toByteArray=function(e){var t,r,s=u(e),o=s[0],a=s[1],l=new n((o+a)*3/4-a),h=0,f=a>0?o-4:o;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[h++]=t>>16&255,l[h++]=t>>8&255,l[h++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[h++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[h++]=t>>8&255,l[h++]=255&t),l},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,s=[],o=0,a=i-n;o<a;o+=16383)s.push(function(e,t,i){for(var n,s=[],o=t;o<i;o+=3)s.push(r[(n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===n?s.push(r[(t=e[i-1])>>2]+r[t<<4&63]+"=="):2===n&&s.push(r[(t=(e[i-2]<<8)+e[i-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},6729:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,i,s,o){if("function"!=typeof i)throw TypeError("The listener must be a function");var a=new n(i,s||e,o),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1)),a.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=Array(s);n<s;n++)o[n]=i[n].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,n,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var u,l,h=this._events[a],f=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),f){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,i),!0;case 4:return h.fn.call(h.context,t,i,n),!0;case 5:return h.fn.call(h.context,t,i,n,s),!0;case 6:return h.fn.call(h.context,t,i,n,s,o),!0}for(l=1,u=Array(f-1);l<f;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var c,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(e,h[l].fn,void 0,!0),f){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,t);break;case 3:h[l].fn.call(h[l].context,t,i);break;case 4:h[l].fn.call(h[l].context,t,i,n);break;default:if(!u)for(c=1,u=Array(f-1);c<f;c++)u[c-1]=arguments[c];h[l].fn.apply(h[l].context,u)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,i,n){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||n&&!a.once||i&&a.context!==i||o(this,s);else{for(var u=0,l=[],h=a.length;u<h;u++)(a[u].fn!==t||n&&!a[u].once||i&&a[u].context!==i)&&l.push(a[u]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},645:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,r,i,n){var s,o,a=8*n-i-1,u=(1<<a)-1,l=u>>1,h=-7,f=r?n-1:0,c=r?-1:1,d=e[t+f];for(f+=c,s=d&(1<<-h)-1,d>>=-h,h+=a;h>0;s=256*s+e[t+f],f+=c,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=256*o+e[t+f],f+=c,h-=8);if(0===s)s=1-l;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),s-=l}return(d?-1:1)*o*Math.pow(2,s-i)},t.write=function(e,t,r,i,n,s){var o,a,u,l=8*s-n-1,h=(1<<l)-1,f=h>>1,c=23===n?5960464477539062e-23:0,d=i?0:s-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+f>=1?t+=c/u:t+=c*Math.pow(2,1-f),t*u>=2&&(o++,u/=2),o+f>=h?(a=0,o=h):o+f>=1?(a=(t*u-1)*Math.pow(2,n),o+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,n),o=0));n>=8;e[r+d]=255&a,d+=p,a/=256,n-=8);for(o=o<<n|a,l+=n;l>0;e[r+d]=255&o,d+=p,o/=256,l-=8);e[r+d-p]|=128*m}},1198:function(e,t,r){"use strict";let i=r(4880).v4,n=r(7741),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return i()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=s,s.prototype.request=function(e,t,r,i){let s;let o=this,a=null,u=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&u)throw TypeError("JSON-RPC 1.0 does not support batching");let l=!u&&e&&"object"==typeof e&&"function"==typeof t;if(u||l)i=t,a=e;else{"function"==typeof r&&(i=r,r=void 0);let s="function"==typeof i;try{a=n(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(s)return i(e);throw e}if(!s)return a}try{s=JSON.stringify(a,this.options.replacer)}catch(e){return i(e)}return this.callServer(s,function(e,t){o._parseResponse(e,t,i)}),a},s.prototype._parseResponse=function(e,t,r){let i;if(e){r(e);return}if(!t)return r();try{i=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(!Array.isArray(i))return r(null,i.error,i.result);{let e=function(e){return void 0!==e.error};return r(null,i.filter(e),i.filter(function(t){return!e(t)}))}}r(null,i)}},7741:function(e,t,r){"use strict";let i=r(4880).v4;e.exports=function(e,t,r,n){if("string"!=typeof e)throw TypeError(e+" must be a string");let s="number"==typeof(n=n||{}).version?n.version:2;if(1!==s&&2!==s)throw TypeError(s+" must be 1 or 2");let o={method:e};if(2===s&&(o.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");o.params=t}if(void 0===r){let e="function"==typeof n.generator?n.generator:function(){return i()};o.id=e(o,n)}else 2===s&&null===r?n.notificationIdNull&&(o.id=null):o.id=r;return o}},9509:function(e,t,r){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=r(8764),n=i.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(s(i,t),t.Buffer=o),o.prototype=Object.create(n.prototype),s(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},1379:function(e,t){"use strict";function r(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function n(e){this.tokens=[].slice.call(e)}function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}n.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var o="utf-8";function a(e,t){if(!(this instanceof a))return new a(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var t=e.fatal,i=0,n=0,o=0,a=128,u=191;this.handler=function(e,l){if(-1===l&&0!==o)return o=0,s(t);if(-1===l)return -1;if(0===o){if(r(l,0,127))return l;if(r(l,194,223))o=1,i=l-192;else if(r(l,224,239))224===l&&(a=160),237===l&&(u=159),o=2,i=l-224;else{if(!r(l,240,244))return s(t);240===l&&(a=144),244===l&&(u=143),o=3,i=l-240}return i<<=6*o,null}if(!r(l,a,u))return i=o=n=0,a=128,u=191,e.prepend(l),s(t);if(a=128,u=191,n+=1,i+=l-128<<6*(o-n),n!==o)return null;var h=i;return i=o=n=0,h}}function h(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(r(t,0,127))return t;r(t,128,2047)?(i=1,n=192):r(t,2048,65535)?(i=2,n=224):r(t,65536,1114111)&&(i=3,n=240);for(var i,n,s=[(t>>6*i)+n];i>0;){var o=t>>6*(i-1);s.push(128|63&o),i-=1}return s}}a.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,s,o=new n(r),a=[];!o.endOfStream()&&-1!==(s=this._decoder.handler(o,o.read()));)null!==s&&(Array.isArray(s)?a.push.apply(a,s):a.push(s));if(!this._streaming){do{if(-1===(s=this._decoder.handler(o,o.read())))break;if(null===s)continue;Array.isArray(s)?a.push.apply(a,s):a.push(s)}while(!o.endOfStream());this._decoder=null}return!a.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0),function(e){for(var t="",r=0;r<e.length;++r){var i=e[r];i<=65535?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode((i>>10)+55296,(1023&i)+56320))}return t}(a)}},u.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new h(this._options)),this._streaming=!!t.stream;for(var r,s=[],o=new n(function(e){for(var t=String(e),r=t.length,i=0,n=[];i<r;){var s=t.charCodeAt(i);if(s<55296||s>57343)n.push(s);else if(56320<=s&&s<=57343)n.push(65533);else if(55296<=s&&s<=56319){if(i===r-1)n.push(65533);else{var o=e.charCodeAt(i+1);if(56320<=o&&o<=57343){var a=1023&s,u=1023&o;n.push(65536+(a<<10)+u),i+=1}else n.push(65533)}}i+=1}return n}(e));!o.endOfStream()&&-1!==(r=this._encoder.handler(o,o.read()));)Array.isArray(r)?s.push.apply(s,r):s.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(o,o.read()));)Array.isArray(r)?s.push.apply(s,r):s.push(r);this._encoder=null}return new Uint8Array(s)}},t.TextEncoder=u,t.TextDecoder=a},4880:function(e,t,r){"use strict";r.d(t,{v4:function(){return l}});for(var i,n=new Uint8Array(16),s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=[],a=0;a<256;++a)o.push((a+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!("string"==typeof r&&s.test(r)))throw TypeError("Stringified UUID is invalid");return r},l=function(e,t,r){var s=(e=e||{}).random||(e.rng||function(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(n)})();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=s[o];return t}return u(s)}},7010:function(e,t,r){"use strict";r.d(t,{A1:function(){return u},D1:function(){return v},Mx:function(){return g},N6:function(){return y},rO:function(){return w},xg:function(){return a}});var i=r(9987),n=r(5525);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let s=BigInt(0),o=BigInt(1);function a(e,t){let r=t.negate();return e?r:t}function u(e,t){let r=(0,n.Eg)(e.Fp,t.map(e=>e.Z));return t.map((t,i)=>e.fromAffine(t.toAffine(r[i])))}function l(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function h(e,t){l(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),s=2**e;return{windows:r,windowSize:n,mask:(0,i.dQ)(e),maxNumber:s,shiftBy:BigInt(e)}}function f(e,t,r){let{windowSize:i,mask:n,maxNumber:s,shiftBy:a}=r,u=Number(e&n),l=e>>a;u>i&&(u-=s,l+=o);let h=t*i,f=h+Math.abs(u)-1;return{nextN:l,offset:f,isZero:0===u,isNeg:u<0,isNegF:t%2!=0,offsetF:h}}let c=new WeakMap,d=new WeakMap;function p(e){return d.get(e)||1}function m(e){if(e!==s)throw Error("invalid wNAF")}class g{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>s;)t&o&&(r=r.add(i)),i=i.double(),t>>=o;return r}precomputeWindow(e,t){let{windows:r,windowSize:i}=h(t,this.bits),n=[],s=e,o=s;for(let e=0;e<r;e++){o=s,n.push(o);for(let e=1;e<i;e++)o=o.add(s),n.push(o);s=o.double()}return n}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let i=this.ZERO,n=this.BASE,s=h(e,this.bits);for(let e=0;e<s.windows;e++){let{nextN:o,offset:u,isZero:l,isNeg:h,isNegF:c,offsetF:d}=f(r,e,s);r=o,l?n=n.add(a(c,t[d])):i=i.add(a(h,t[u]))}return m(r),{p:i,f:n}}wNAFUnsafe(e,t,r,i=this.ZERO){let n=h(e,this.bits);for(let e=0;e<n.windows&&r!==s;e++){let{nextN:s,offset:o,isZero:a,isNeg:u}=f(r,e,n);if(r=s,!a){let e=t[o];i=i.add(u?e.negate():e)}}return m(r),i}getPrecomputes(e,t,r){let i=c.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(i=r(i)),c.set(t,i))),i}cached(e,t,r){let i=p(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){let n=p(e);return 1===n?this._unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)}createCache(e,t){l(t,this.bits),d.set(e,t),c.delete(e)}hasCache(e){return 1!==p(e)}}function y(e,t,r,i){let n=t,a=e.ZERO,u=e.ZERO;for(;r>s||i>s;)r&o&&(a=a.add(n)),i&o&&(u=u.add(n)),n=n.double(),r>>=o,i>>=o;return{p1:a,p2:u}}function v(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let s=r.length,o=n.length;if(s!==o)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,u=(0,i.Dd)(BigInt(s)),l=1;u>12?l=u-3:u>4?l=u-2:u>0&&(l=2);let h=(0,i.dQ)(l),f=Array(Number(h)+1).fill(a),c=Math.floor((t.BITS-1)/l)*l,d=a;for(let e=c;e>=0;e-=l){f.fill(a);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&h);f[i]=f[i].add(r[t])}let t=a;for(let e=f.length-1,r=a;e>0;e--)r=r.add(f[e]),t=t.add(r);if(d=d.add(t),0!==e)for(let e=0;e<l;e++)d=d.double()}return d}function b(e,t,r){if(!t)return(0,n.gN)(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,n.OP)(t),t}function w(e,t,r={},i){if(void 0===i&&(i="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>s))throw Error(`CURVE.${e} must be positive bigint`)}let n=b(t.p,r.Fp,i),o=b(t.n,r.Fn,i);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:n,Fn:o}}},5525:function(e,t,r){"use strict";r.d(t,{Eg:function(){return A},OP:function(){return M},PS:function(){return I},Tu:function(){return E},Us:function(){return R},gN:function(){return B},kK:function(){return O},oA:function(){return g},wQ:function(){return m}});var i=r(9987),n=r(6409);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let s=BigInt(0),o=BigInt(1),a=BigInt(2),u=BigInt(3),l=BigInt(4),h=BigInt(5),f=BigInt(7),c=BigInt(8),d=BigInt(9),p=BigInt(16);function m(e,t){let r=e%t;return r>=s?r:t+r}function g(e,t,r){let i=e;for(;t-- >s;)i*=i,i%=r;return i}function y(e,t){if(e===s)throw Error("invert: expected non-zero number");if(t<=s)throw Error("invert: expected positive modulus, got "+t);let r=m(e,t),i=t,n=s,a=o,u=o,l=s;for(;r!==s;){let e=i/r,t=i%r,s=n-u*e,o=a-l*e;i=r,r=t,n=u,a=l,u=s,l=o}if(i!==o)throw Error("invert: does not exist");return m(n,t)}function v(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function b(e,t){let r=(e.ORDER+o)/l,i=e.pow(t,r);return v(e,i,t),i}function w(e,t){let r=(e.ORDER-h)/c,i=e.mul(t,a),n=e.pow(i,r),s=e.mul(t,n),o=e.mul(e.mul(s,a),n),u=e.mul(s,e.sub(o,e.ONE));return v(e,u,t),u}function _(e){if(e<u)throw Error("sqrt is not defined for small field");let t=e-o,r=0;for(;t%a===s;)t/=a,r++;let i=a,n=B(e);for(;1===k(n,i);)if(i++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return b;let l=n.pow(i,t),h=(t+o)/a;return function(e,i){if(e.is0(i))return i;if(1!==k(e,i))throw Error("Cannot find square root");let n=r,s=e.mul(e.ONE,l),a=e.pow(i,t),u=e.pow(i,h);for(;!e.eql(a,e.ONE);){if(e.is0(a))return e.ZERO;let t=1,r=e.sqr(a);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===n)throw Error("Cannot find square root");let i=o<<BigInt(n-t-1),l=e.pow(s,i);n=t,s=e.sqr(l),a=e.mul(a,s),u=e.mul(u,l)}return u}}let E=(e,t)=>(m(e,t)&o)===o,x=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function M(e){let t=x.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,i.fA)(e,t),e}function A(e,t,r=!1){let i=Array(t.length).fill(r?e.ZERO:void 0),n=t.reduce((t,r,n)=>e.is0(r)?t:(i[n]=t,e.mul(t,r)),e.ONE),s=e.inv(n);return t.reduceRight((t,r,n)=>e.is0(r)?t:(i[n]=e.mul(t,i[n]),e.mul(t,r)),s),i}function k(e,t){let r=(e.ORDER-o)/a,i=e.pow(t,r),n=e.eql(i,e.ONE),s=e.eql(i,e.ZERO),u=e.eql(i,e.neg(e.ONE));if(!n&&!s&&!u)throw Error("invalid Legendre symbol result");return n?1:s?0:-1}function O(e,t){void 0!==t&&(0,n.k8)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function B(e,t,r=!1,n={}){let a,g,E,x;if(e<=s)throw Error("invalid field: expected ORDER > 0, got "+e);let M=!1;if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(g=t.BITS),t.sqrt&&(E=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(M=t.modFromBytes),x=t.allowedLengths}else"number"==typeof t&&(g=t),n.sqrt&&(E=n.sqrt);let{nBitLength:k,nByteLength:S}=O(e,g);if(S>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let I=Object.freeze({ORDER:e,isLE:r,BITS:k,BYTES:S,MASK:(0,i.dQ)(k),ZERO:s,ONE:o,allowedLengths:x,create:t=>m(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return s<=t&&t<e},is0:e=>e===s,isValidNot0:e=>!I.is0(e)&&I.isValid(e),isOdd:e=>(e&o)===o,neg:t=>m(-t,e),eql:(e,t)=>e===t,sqr:t=>m(t*t,e),add:(t,r)=>m(t+r,e),sub:(t,r)=>m(t-r,e),mul:(t,r)=>m(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<s)throw Error("invalid exponent, negatives unsupported");if(r===s)return e.ONE;if(r===o)return t;let i=e.ONE,n=t;for(;r>s;)r&o&&(i=e.mul(i,n)),n=e.sqr(n),r>>=o;return i})(I,e,t),div:(t,r)=>m(t*y(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>y(t,e),sqrt:E||(t=>(!a&&(a=e%l===u?b:e%c===h?w:e%p===d?function(e){let t=B(e),r=_(e),i=r(t,t.neg(t.ONE)),n=r(t,i),s=r(t,t.neg(i)),o=(e+f)/p;return(e,t)=>{let r=e.pow(t,o),a=e.mul(r,i),u=e.mul(r,n),l=e.mul(r,s),h=e.eql(e.sqr(a),t),f=e.eql(e.sqr(u),t);r=e.cmov(r,a,h),a=e.cmov(l,u,f);let c=e.eql(e.sqr(a),t),d=e.cmov(r,a,c);return v(e,d,t),d}}(e):_(e)),a(I,t))),toBytes:e=>r?(0,i.S5)(e,S):(0,i.tL)(e,S),fromBytes:(t,n=!0)=>{if(x){if(!x.includes(t.length)||t.length>S)throw Error("Field.fromBytes: expected "+x+" bytes, got "+t.length);let e=new Uint8Array(S);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==S)throw Error("Field.fromBytes: expected "+S+" bytes, got "+t.length);let s=r?(0,i.ty)(t):(0,i.Hv)(t);if(M&&(s=m(s,e)),!n&&!I.isValid(s))throw Error("invalid field element: outside of range 0..ORDER");return s},invertBatch:e=>A(I,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(I)}function S(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function I(e){let t=S(e);return t+Math.ceil(t/2)}function R(e,t,r=!1){let n=e.length,s=S(t),a=I(t);if(n<16||n<a||n>1024)throw Error("expected "+a+"-1024 bytes of input, got "+n);let u=m(r?(0,i.ty)(e):(0,i.Hv)(e),t-o)+o;return r?(0,i.S5)(u,s):(0,i.tL)(u,s)}},9283:function(e,t,r){"use strict";r.d(t,{UN:function(){return A}});var i=r(3883),n=r(6409),s=r(7010),o=r(9987),a=r(5525);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let u=BigInt(0),l=BigInt(1),h=BigInt(2),f=BigInt(8);class c{constructor(e){this.ep=e}static fromBytes(e){(0,o.EQ)()}static fromHex(e){(0,o.EQ)()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return(0,n.ci)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}function d(e){if(!Number.isSafeInteger(e))throw Error("number expected")}(0,n.iY)("HashToScalar-");let p=BigInt(0),m=BigInt(1),g=BigInt(2);BigInt(3);let y=BigInt(5),v=BigInt(8),b=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),w={p:b,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:v,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function E(e,t){let r=(0,a.wQ)(t*t*t,b),i=function(e){let t=BigInt(10),r=BigInt(20),i=BigInt(40),n=BigInt(80),s=e*e%b*e%b,o=(0,a.oA)(s,g,b)*s%b,u=(0,a.oA)(o,m,b)*e%b,l=(0,a.oA)(u,y,b)*u%b,h=(0,a.oA)(l,t,b)*l%b,f=(0,a.oA)(h,r,b)*h%b,c=(0,a.oA)(f,i,b)*f%b,d=(0,a.oA)(c,n,b)*c%b,p=(0,a.oA)(d,n,b)*c%b,v=(0,a.oA)(p,t,b)*l%b;return{pow_p_5_8:(0,a.oA)(v,g,b)*e%b,b2:s}}(e*(0,a.wQ)(r*r*t,b)).pow_p_5_8,n=(0,a.wQ)(e*r*i,b),s=(0,a.wQ)(t*n*n,b),o=n,u=(0,a.wQ)(n*_,b),l=s===e,h=s===(0,a.wQ)(-e,b),f=s===(0,a.wQ)(-e*_,b);return l&&(n=o),(h||f)&&(n=u),(0,a.Tu)(n,b)&&(n=(0,a.wQ)(-n,b)),{isValid:l||h,value:n}}let x=(0,a.gN)(w.p,{isLE:!0}),M=(0,a.gN)(w.n,{isLE:!0}),A=function(e){let{CURVE:t,curveOpts:r,hash:i,eddsaOpts:c}=function(e){let t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:(0,a.gN)(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},i={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:r,hash:e.hash,eddsaOpts:i}}(e);return function(e,t){let r=t.Point;return Object.assign({},t,{ExtendedPoint:r,CURVE:e,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}(e,function(e,t,r={}){if("function"!=typeof t)throw Error('"hash" function param is required');(0,o.fA)(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:i}=r,{BASE:s,Fp:a,Fn:u}=e,h=r.randomBytes||n.O6,f=r.adjustScalarBytes||(e=>e),c=r.domain||((e,t,r)=>{if((0,o.po)(r,"phflag"),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function d(e){return u.create((0,o.ty)(e))}function p(e){let{head:r,prefix:i,scalar:n}=function(e){let r=b.secretKey;e=(0,o.ql)("private key",e,r);let i=(0,o.ql)("hashed private key",t(e),2*r),n=f(i.slice(0,r)),s=i.slice(r,2*r),a=d(n);return{head:n,prefix:s,scalar:a}}(e),a=s.multiply(n),u=a.toBytes();return{head:r,prefix:i,scalar:n,point:a,pointBytes:u}}function m(e){return p(e).pointBytes}function g(e=Uint8Array.of(),...r){return d(t(c((0,n.eV)(...r),(0,o.ql)("context",e),!!i)))}let y={zip215:!0},v=a.BYTES,b={secretKey:v,publicKey:v,signature:2*v,seed:v};function w(e=h(b.seed)){return(0,o.GB)(e,b.seed,"seed")}let _={getExtendedPublicKey:p,randomSecretKey:w,isValidSecretKey:function(e){return(0,n._t)(e)&&e.length===u.BYTES},isValidPublicKey:function(t,r){try{return!!e.fromBytes(t,r)}catch(e){return!1}},toMontgomery(t){let{y:r}=e.fromBytes(t),i=b.publicKey,n=32===i;if(!n&&57!==i)throw Error("only defined for 25519 and 448");let s=n?a.div(l+r,l-r):a.div(r-l,r+l);return a.toBytes(s)},toMontgomerySecret(e){let r=b.secretKey;return(0,o.GB)(e,r),f(t(e.subarray(0,r))).subarray(0,r)},randomPrivateKey:w,precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)};return Object.freeze({keygen:function(e){let t=_.randomSecretKey(e);return{secretKey:t,publicKey:m(t)}},getPublicKey:m,sign:function(e,t,r={}){e=(0,o.ql)("message",e),i&&(e=i(e));let{prefix:a,scalar:l,pointBytes:h}=p(t),f=g(r.context,a,e),c=s.multiply(f).toBytes(),d=g(r.context,c,h,e),m=u.create(f+d*l);if(!u.isValid(m))throw Error("sign failed: invalid s");let y=(0,n.eV)(c,u.toBytes(m));return(0,o.GB)(y,b.signature,"result")},verify:function(t,r,n,a=y){let u,l,h;let{context:f,zip215:c}=a,d=b.signature;t=(0,o.ql)("signature",t,d),r=(0,o.ql)("message",r),n=(0,o.ql)("publicKey",n,b.publicKey),void 0!==c&&(0,o.po)(c,"zip215"),i&&(r=i(r));let p=d/2,m=t.subarray(0,p),v=(0,o.ty)(t.subarray(p,d));try{u=e.fromBytes(n,c),l=e.fromBytes(m,c),h=s.multiplyUnsafe(v)}catch(e){return!1}if(!c&&u.isSmallOrder())return!1;let w=g(f,l.toBytes(),u.toBytes(),r);return l.add(u.multiplyUnsafe(w)).subtract(h).clearCofactor().is0()},utils:_,Point:e,lengths:b})}(function(e,t={}){let r=(0,s.rO)("edwards",e,t,t.FpFnLE),{Fp:i,Fn:a}=r,c=r.CURVE,{h:d}=c;(0,o.fA)(t,{},{uvRatio:"function"});let p=h<<BigInt(8*a.BYTES)-l,m=e=>i.create(e),g=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:i.sqrt(i.div(e,t))}}catch(e){return{isValid:!1,value:u}}});if(!function(e,t,r,i){let n=e.sqr(r),s=e.sqr(i),o=e.add(e.mul(t.a,n),s),a=e.add(e.ONE,e.mul(t.d,e.mul(n,s)));return e.eql(o,a)}(i,c,c.Gx,c.Gy))throw Error("bad curve params: generator point");function y(e,t,r=!1){let i=r?l:u;return(0,o.Fy)("coordinate "+e,t,i,p),t}function v(e){if(!(e instanceof _))throw Error("ExtendedPoint expected")}let b=(0,o.H9)((e,t)=>{let{X:r,Y:n,Z:s}=e,o=e.is0();null==t&&(t=o?f:i.inv(s));let a=m(r*t),h=m(n*t),c=i.mul(s,t);if(o)return{x:u,y:l};if(c!==l)throw Error("invZ was invalid");return{x:a,y:h}}),w=(0,o.H9)(e=>{let{a:t,d:r}=c;if(e.is0())throw Error("bad point: ZERO");let{X:i,Y:n,Z:s,T:o}=e,a=m(i*i),u=m(n*n),l=m(s*s),h=m(l*l),f=m(a*t);if(m(l*m(f+u))!==m(h+m(r*m(a*u))))throw Error("bad point: equation left != right (1)");if(m(i*n)!==m(s*o))throw Error("bad point: equation left != right (2)");return!0});class _{constructor(e,t,r,i){this.X=y("x",e),this.Y=y("y",t),this.Z=y("z",r,!0),this.T=y("t",i),Object.freeze(this)}static CURVE(){return c}static fromAffine(e){if(e instanceof _)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return y("x",t),y("y",r),new _(t,r,l,m(t*r))}static fromBytes(e,t=!1){let r=i.BYTES,{a:n,d:s}=c;e=(0,o.HV)((0,o.GB)(e,r,"point")),(0,o.po)(t,"zip215");let a=(0,o.HV)(e),h=e[r-1];a[r-1]=-129&h;let f=(0,o.ty)(a),d=t?p:i.ORDER;(0,o.Fy)("point.y",f,u,d);let y=m(f*f),{isValid:v,value:b}=g(m(y-l),m(s*y-n));if(!v)throw Error("bad point: invalid y coordinate");let w=(b&l)===l,E=(128&h)!=0;if(!t&&b===u&&E)throw Error("bad point: x=0 and x_0=1");return E!==w&&(b=m(-b)),_.fromAffine({x:b,y:f})}static fromHex(e,t=!1){return _.fromBytes((0,o.ql)("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return E.createCache(this,e),t||this.multiply(h),this}assertValidity(){w(this)}equals(e){v(e);let{X:t,Y:r,Z:i}=this,{X:n,Y:s,Z:o}=e,a=m(t*o),u=m(n*i),l=m(r*o),h=m(s*i);return a===u&&l===h}is0(){return this.equals(_.ZERO)}negate(){return new _(m(-this.X),this.Y,this.Z,m(-this.T))}double(){let{a:e}=c,{X:t,Y:r,Z:i}=this,n=m(t*t),s=m(r*r),o=m(h*m(i*i)),a=m(e*n),u=t+r,l=m(m(u*u)-n-s),f=a+s,d=f-o,p=a-s,g=m(l*d),y=m(f*p),v=m(l*p);return new _(g,y,m(d*f),v)}add(e){v(e);let{a:t,d:r}=c,{X:i,Y:n,Z:s,T:o}=this,{X:a,Y:u,Z:l,T:h}=e,f=m(i*a),d=m(n*u),p=m(o*r*h),g=m(s*l),y=m((i+n)*(a+u)-f-d),b=g-p,w=g+p,E=m(d-t*f),x=m(y*b),M=m(w*E),A=m(y*E);return new _(x,M,m(b*w),A)}subtract(e){return this.add(e.negate())}multiply(e){if(!a.isValidNot0(e))throw Error("invalid scalar: expected 1 <= sc < curve.n");let{p:t,f:r}=E.cached(this,e,e=>(0,s.A1)(_,e));return(0,s.A1)(_,[t,r])[0]}multiplyUnsafe(e,t=_.ZERO){if(!a.isValid(e))throw Error("invalid scalar: expected 0 <= sc < curve.n");return e===u?_.ZERO:this.is0()||e===l?this:E.unsafe(this,e,e=>(0,s.A1)(_,e),t)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return E.unsafe(this,c.n).is0()}toAffine(e){return b(this,e)}clearCofactor(){return d===l?this:this.multiplyUnsafe(d)}toBytes(){let{x:e,y:t}=this.toAffine(),r=i.toBytes(t);return r[r.length-1]|=e&l?128:0,r}toHex(){return(0,n.ci)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return(0,s.A1)(_,e)}static msm(e,t){return(0,s.D1)(_,a,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}_.BASE=new _(c.Gx,c.Gy,l,m(c.Gx*c.Gy)),_.ZERO=new _(u,l,l,u),_.Fp=i,_.Fn=a;let E=new s.Mx(_,a.BITS);return _.BASE.precompute(8),_}(t,r),i,c))}({...w,Fp:x,hash:i.o,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:E}),k=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),O=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),S=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),I=e=>E(m,e),R=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),T=e=>A.Point.Fp.create((0,o.ty)(e)&R);function U(e){let{d:t}=w,r=e=>x.create(e),i=r(_*e*e),n=r((i+m)*B),s=BigInt(-1),o=r((s-t*i)*r(i+t)),{isValid:u,value:l}=E(n,o),h=r(l*e);(0,a.Tu)(h,b)||(h=r(-h)),u||(l=h),u||(s=i);let f=r(s*(i-m)*S-o),c=l*l,d=r((l+l)*o),p=r(f*k),g=r(m-c),y=r(m+c);return new A.Point(r(d*y),r(g*p),r(p*y),r(d*g))}class N extends c{constructor(e){super(e)}static fromAffine(e){return new N(A.Point.fromAffine(e))}assertSame(e){if(!(e instanceof N))throw Error("RistrettoPoint expected")}init(e){return new N(e)}static hashToCurve(e){return function(e){(0,n.gk)(e,64);let t=U(T(e.subarray(0,32))),r=U(T(e.subarray(32,64)));return new N(t.add(r))}((0,o.ql)("ristrettoHash",e,64))}static fromBytes(e){(0,n.gk)(e,32);let{a:t,d:r}=w,i=e=>x.create(e),s=T(e);if(!(0,o.Wd)(x.toBytes(s),e)||(0,a.Tu)(s,b))throw Error("invalid ristretto255 encoding 1");let u=i(s*s),l=i(m+t*u),h=i(m-t*u),f=i(l*l),c=i(h*h),d=i(t*r*f-c),{isValid:g,value:y}=I(i(d*c)),v=i(y*h),_=i(y*v*d),E=i((s+s)*v);(0,a.Tu)(E,b)&&(E=i(-E));let M=i(l*_),k=i(E*M);if(!g||(0,a.Tu)(k,b)||M===p)throw Error("invalid ristretto255 encoding 2");return new N(new A.Point(E,M,m,k))}static fromHex(e){return N.fromBytes((0,o.ql)("ristrettoHex",e,32))}static msm(e,t){return(0,s.D1)(N,A.Point.Fn,e,t)}toBytes(){let e,{X:t,Y:r,Z:i,T:n}=this.ep,s=e=>x.create(e),o=s(s(i+r)*s(i-r)),u=s(t*r),l=s(u*u),{value:h}=I(s(o*l)),f=s(h*o),c=s(h*u),d=s(f*c*n);if((0,a.Tu)(n*d,b)){let i=s(r*_),n=s(t*_);t=i,r=n,e=s(f*O)}else e=c;(0,a.Tu)(t*d,b)&&(r=s(-r));let p=s((i-r)*e);return(0,a.Tu)(p,b)&&(p=s(-p)),x.toBytes(p)}equals(e){this.assertSame(e);let{X:t,Y:r}=this.ep,{X:i,Y:n}=e.ep,s=e=>x.create(e),o=s(t*n)===s(r*i),a=s(r*n)===s(t*i);return o||a}is0(){return this.equals(N.ZERO)}}N.BASE=new N(A.Point.BASE),N.ZERO=new N(A.Point.ZERO),N.Fp=x,N.Fn=M},5085:function(e,t,r){"use strict";r.d(t,{kA:function(){return O}});var i=r(3883),n=r(6409);class s extends n.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.z3)(e);let r=(0,n.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),(0,n.ru)(s)}update(e){return(0,n.$h)(this),this.iHash.update(e),this}digestInto(e){(0,n.$h)(this),(0,n.gk)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return e.finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let o=(e,t,r)=>new s(e,t).update(r).digest();o.create=(e,t)=>new s(e,t);var a=r(9987),u=r(7010),l=r(5525);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let h=(e,t)=>(e+(e>=0?t:-t)/y)/t;function f(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function c(e,t){let r={};for(let i of Object.keys(t))r[i]=void 0===e[i]?t[i]:e[i];return(0,a.po)(r.lowS,"lowS"),(0,a.po)(r.prehash,"prehash"),void 0!==r.format&&f(r.format),r}class d extends Error{constructor(e=""){super(e)}}let p={Err:d,_tlv:{encode:(e,t)=>{let{Err:r}=p;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let i=t.length/2,n=(0,a.uz)(i);if(n.length/2&128)throw new r("tlv.encode: long form length too big");let s=i>127?(0,a.uz)(n.length/2|128):"";return(0,a.uz)(e)+s+n+t},decode(e,t){let{Err:r}=p,i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[i++]!==e)throw new r("tlv.decode: wrong tlv");let n=t[i++],s=0;if(128&n){let e=127&n;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let o=t.subarray(i,i+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of o)s=s<<8|e;if(i+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=n;let o=t.subarray(i,i+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(i+s)}}},_int:{encode(e){let{Err:t}=p;if(e<m)throw new t("integer: negative integers are not allowed");let r=(0,a.uz)(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=p;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,a.Hv)(e)}},toSig(e){let{Err:t,_int:r,_tlv:i}=p,n=(0,a.ql)("signature",e),{v:s,l:o}=i.decode(48,n);if(o.length)throw new t("invalid signature: left bytes after parsing");let{v:u,l:l}=i.decode(2,s),{v:h,l:f}=i.decode(2,l);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(u),s:r.decode(h)}},hexFromSig(e){let{_tlv:t,_int:r}=p,i=t.encode(2,r.encode(e.r)),n=t.encode(2,r.encode(e.s));return t.encode(48,i+n)}},m=BigInt(0),g=BigInt(1),y=BigInt(2),v=BigInt(3),b=BigInt(4);function w(e,t){let r;let{BYTES:i}=e;if("bigint"==typeof t)r=t;else{let n=(0,a.ql)("private key",t);try{r=e.fromBytes(n)}catch(e){throw Error(`invalid private key: expected ui8a of size ${i}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw Error("invalid private key: out of range [1..N-1]");return r}function _(e){return Uint8Array.of(e?2:3)}function E(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let x={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},M={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},A=BigInt(2),k=(0,l.gN)(x.p,{sqrt:function(e){let t=x.p,r=BigInt(3),i=BigInt(6),n=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),h=e*e*e%t,f=h*h*e%t,c=(0,l.oA)(f,r,t)*f%t,d=(0,l.oA)(c,r,t)*f%t,p=(0,l.oA)(d,A,t)*h%t,m=(0,l.oA)(p,n,t)*p%t,g=(0,l.oA)(m,s,t)*m%t,y=(0,l.oA)(g,a,t)*g%t,v=(0,l.oA)(y,u,t)*y%t,b=(0,l.oA)(v,a,t)*g%t,w=(0,l.oA)(b,r,t)*f%t,_=(0,l.oA)(w,o,t)*m%t,E=(0,l.oA)(_,i,t)*h%t,M=(0,l.oA)(E,A,t);if(!k.eql(k.sqr(M),e))throw Error("Cannot find square root");return M}}),O=function(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,hash:i,ecdsaOpts:s}=function(e){let{CURVE:t,curveOpts:r}=function(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,i=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,n={Fp:r,Fn:(0,l.gN)(t.n,{BITS:e.nBitLength,allowedLengths:i,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:n}}(e),i={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:i}}(e);return function(e,t){let r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,(0,l.kK)(r.Fn.ORDER,r.Fn.BITS))})}(e,function(e,t,r={}){(0,n.z3)(t),(0,a.fA)(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let i=r.randomBytes||n.O6,s=r.hmac||((e,...r)=>o(t,e,(0,n.eV)(...r))),{Fp:u,Fn:h}=e,{ORDER:d,BITS:v}=h,{keygen:b,getPublicKey:x,getSharedSecret:M,utils:A,lengths:k}=function(e,t={}){let{Fn:r}=e,i=t.randomBytes||n.O6,s=Object.assign(E(e.Fp,r),{seed:(0,l.PS)(r.ORDER)});function o(e){try{return!!w(r,e)}catch(e){return!1}}function u(e=i(s.seed)){return(0,l.Us)((0,a.GB)(e,s.seed,"seed"),r.ORDER)}function h(t,i=!0){return e.BASE.multiply(w(r,t)).toBytes(i)}function f(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let{secretKey:i,publicKey:n,publicKeyUncompressed:o}=s;if(r.allowedLengths||i===n)return;let u=(0,a.ql)("key",t).length;return u===n||u===o}return Object.freeze({getPublicKey:h,getSharedSecret:function(t,i,n=!0){if(!0===f(t))throw Error("first arg must be private key");if(!1===f(i))throw Error("second arg must be public key");let s=w(r,t);return e.fromHex(i).multiply(s).toBytes(n)},keygen:function(e){let t=u(e);return{secretKey:t,publicKey:h(t)}},Point:e,utils:{isValidSecretKey:o,isValidPublicKey:function(t,r){let{publicKey:i,publicKeyUncompressed:n}=s;try{let s=t.length;if(!0===r&&s!==i||!1===r&&s!==n)return!1;return!!e.fromBytes(t)}catch(e){return!1}},randomSecretKey:u,isValidPrivateKey:o,randomPrivateKey:u,normPrivateKeyToScalar:e=>w(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:s})}(e,r),O={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},B="compact";function S(e,t){if(!h.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class I{constructor(e,t,r){this.r=S("r",e),this.s=S("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=B){let r;if(!function(e,t){f(t);let r=k.signature;(0,a.GB)(e,"compact"===t?r:"recovered"===t?r+1:void 0,`${t} signature`)}(e,t),"der"===t){let{r:t,s:r}=p.toSig((0,a.GB)(e));return new I(t,r)}"recovered"===t&&(r=e[0],t="compact",e=e.subarray(1));let i=h.BYTES,n=e.subarray(0,i),s=e.subarray(i,2*i);return new I(h.fromBytes(n),h.fromBytes(s),r)}static fromHex(e,t){return this.fromBytes((0,n.nr)(e),t)}addRecoveryBit(e){return new I(this.r,this.s,e)}recoverPublicKey(t){let r=u.ORDER,{r:i,s,recovery:o}=this;if(null==o||![0,1,2,3].includes(o))throw Error("recovery id invalid");if(d*y<r&&o>1)throw Error("recovery id is ambiguous for h>1 curve");let l=2===o||3===o?i+d:i;if(!u.isValid(l))throw Error("recovery id 2 or 3 invalid");let f=u.toBytes(l),c=e.fromBytes((0,n.eV)(_((1&o)==0),f)),p=h.inv(l),m=T((0,a.ql)("msgHash",t)),g=h.create(-m*p),v=h.create(s*p),b=e.BASE.multiplyUnsafe(g).add(c.multiplyUnsafe(v));if(b.is0())throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>d>>g}toBytes(e=B){if(f(e),"der"===e)return(0,n.nr)(p.hexFromSig(this));let t=h.toBytes(this.r),r=h.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw Error("recovery bit must be present");return(0,n.eV)(Uint8Array.of(this.recovery),t,r)}return(0,n.eV)(t,r)}toHex(e){return(0,n.ci)(this.toBytes(e))}assertValidity(){}static fromCompact(e){return I.fromBytes((0,a.ql)("sig",e),"compact")}static fromDER(e){return I.fromBytes((0,a.ql)("sig",e),"der")}normalizeS(){return this.hasHighS()?new I(this.r,h.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,n.ci)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,n.ci)(this.toBytes("compact"))}}let R=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=(0,a.Hv)(e),r=8*e.length-v;return r>0?t>>BigInt(r):t},T=r.bits2int_modN||function(e){return h.create(R(e))},U=(0,a.dQ)(v);function N(e){return(0,a.Fy)("num < 2^"+v,e,m,U),h.toBytes(e)}function P(e,r){return(0,a.GB)(e,void 0,"message"),r?(0,a.GB)(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:b,getPublicKey:x,getSharedSecret:M,utils:A,lengths:k,Point:e,sign:function(r,o,u={}){let{seed:l,k2sig:f}=function(t,r,s){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{lowS:o,prehash:u,extraEntropy:l}=c(s,O),f=T(t=P(t,u)),p=w(h,r),y=[N(p),N(f)];if(null!=l&&!1!==l){let e=!0===l?i(k.secretKey):l;y.push((0,a.ql)("extraEntropy",e))}return{seed:(0,n.eV)(...y),k2sig:function(t){let r=R(t);if(!h.isValidNot0(r))return;let i=h.inv(r),n=e.BASE.multiply(r).toAffine(),s=h.create(n.x);if(s===m)return;let a=h.create(i*h.create(f+s*p));if(a===m)return;let u=(n.x===s?0:2)|Number(n.y&g),l=a;return o&&a>d>>g&&(l=h.neg(a),u^=1),new I(s,l,u)}}}(r=(0,a.ql)("message",r),o,u);return(0,a.n$)(t.outputLen,h.BYTES,s)(l,f)},verify:function(t,r,i,s={}){let{lowS:o,prehash:u,format:l}=c(s,O);if(i=(0,a.ql)("publicKey",i),r=P((0,a.ql)("message",r),u),"strict"in s)throw Error("options.strict was renamed to lowS");let f=void 0===l?function(e){let t;let r="string"==typeof e||(0,n._t)(e),i=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!i)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(i)t=new I(e.r,e.s);else if(r){try{t=I.fromBytes((0,a.ql)("sig",e),"der")}catch(e){if(!(e instanceof p.Err))throw e}if(!t)try{t=I.fromBytes((0,a.ql)("sig",e),"compact")}catch(e){return!1}}return!!t&&t}(t):I.fromBytes((0,a.ql)("sig",t),l);if(!1===f)return!1;try{let t=e.fromBytes(i);if(o&&f.hasHighS())return!1;let{r:n,s}=f,a=T(r),u=h.inv(s),l=h.create(a*u),c=h.create(n*u),d=e.BASE.multiplyUnsafe(l).add(t.multiplyUnsafe(c));if(d.is0())return!1;return h.create(d.x)===n}catch(e){return!1}},recoverPublicKey:function(e,t,r={}){let{prehash:i}=c(r,O);return t=P(t,i),I.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:I,hash:t})}(function(e,t={}){let r=(0,u.rO)("weierstrass",e,t),{Fp:i,Fn:s}=r,o=r.CURVE,{h:l,n:f}=o;(0,a.fA)(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=t;if(c&&(!i.is0(o.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let d=E(i,s);function p(){if(!i.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let y=t.toBytes||function(e,t,r){let{x:s,y:o}=t.toAffine(),u=i.toBytes(s);if((0,a.po)(r,"isCompressed"),!r)return(0,n.eV)(Uint8Array.of(4),u,i.toBytes(o));{p();let e=!i.isOdd(o);return(0,n.eV)(_(e),u)}},x=t.fromBytes||function(e){(0,a.GB)(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=d,n=e.length,s=e[0],o=e.subarray(1);if(n===t&&(2===s||3===s)){let e;let t=i.fromBytes(o);if(!i.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=M(t);try{e=i.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return p(),(1&s)==1!==i.isOdd(e)&&(e=i.neg(e)),{x:t,y:e}}if(n===r&&4===s){let e=i.BYTES,t=i.fromBytes(o.subarray(0,e)),r=i.fromBytes(o.subarray(e,2*e));if(!A(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${n}, expected compressed=${t} or uncompressed=${r}`)};function M(e){let t=i.sqr(e),r=i.mul(t,e);return i.add(i.add(r,i.mul(e,o.a)),o.b)}function A(e,t){let r=i.sqr(t),n=M(e);return i.eql(r,n)}if(!A(o.Gx,o.Gy))throw Error("bad curve params: generator point");let k=i.mul(i.pow(o.a,v),b),O=i.mul(i.sqr(o.b),BigInt(27));if(i.is0(i.add(k,O)))throw Error("bad curve params: a or b");function B(e,t,r=!1){if(!i.isValid(t)||r&&i.is0(t))throw Error(`bad point coordinate ${e}`);return t}function S(e){if(!(e instanceof N))throw Error("ProjectivePoint expected")}function I(e){if(!c||!c.basises)throw Error("no endo");return function(e,t,r){let[[i,n],[s,o]]=t,u=h(o*e,r),l=h(-n*e,r),f=e-u*i-l*s,c=-u*n-l*o,d=f<m,p=c<m;d&&(f=-f),p&&(c=-c);let y=(0,a.dQ)(Math.ceil((0,a.Dd)(r)/2))+g;if(f<m||f>=y||c<m||c>=y)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:f,k2neg:p,k2:c}}(e,c.basises,s.ORDER)}let R=(0,a.H9)((e,t)=>{let{X:r,Y:n,Z:s}=e;if(i.eql(s,i.ONE))return{x:r,y:n};let o=e.is0();null==t&&(t=o?i.ONE:i.inv(s));let a=i.mul(r,t),u=i.mul(n,t),l=i.mul(s,t);if(o)return{x:i.ZERO,y:i.ZERO};if(!i.eql(l,i.ONE))throw Error("invZ was invalid");return{x:a,y:u}}),T=(0,a.H9)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!i.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:n}=e.toAffine();if(!i.isValid(r)||!i.isValid(n))throw Error("bad point: x or y not field elements");if(!A(r,n))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function U(e,t,r,n,s){return r=new N(i.mul(r.X,e),r.Y,r.Z),t=(0,u.xg)(n,t),r=(0,u.xg)(s,r),t.add(r)}class N{constructor(e,t,r){this.X=B("x",e),this.Y=B("y",t,!0),this.Z=B("z",r),Object.freeze(this)}static CURVE(){return o}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!i.isValid(t)||!i.isValid(r))throw Error("invalid affine point");if(e instanceof N)throw Error("projective point not allowed");return i.is0(t)&&i.is0(r)?N.ZERO:new N(t,r,i.ONE)}static fromBytes(e){let t=N.fromAffine(x((0,a.GB)(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return N.fromBytes((0,a.ql)("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return j.createCache(this,e),t||this.multiply(v),this}assertValidity(){T(this)}hasEvenY(){let{y:e}=this.toAffine();if(!i.isOdd)throw Error("Field doesn't support isOdd");return!i.isOdd(e)}equals(e){S(e);let{X:t,Y:r,Z:n}=this,{X:s,Y:o,Z:a}=e,u=i.eql(i.mul(t,a),i.mul(s,n)),l=i.eql(i.mul(r,a),i.mul(o,n));return u&&l}negate(){return new N(this.X,i.neg(this.Y),this.Z)}double(){let{a:e,b:t}=o,r=i.mul(t,v),{X:n,Y:s,Z:a}=this,u=i.ZERO,l=i.ZERO,h=i.ZERO,f=i.mul(n,n),c=i.mul(s,s),d=i.mul(a,a),p=i.mul(n,s);return p=i.add(p,p),h=i.mul(n,a),h=i.add(h,h),u=i.mul(e,h),l=i.mul(r,d),l=i.add(u,l),u=i.sub(c,l),l=i.add(c,l),l=i.mul(u,l),u=i.mul(p,u),h=i.mul(r,h),d=i.mul(e,d),p=i.sub(f,d),p=i.mul(e,p),p=i.add(p,h),h=i.add(f,f),f=i.add(h,f),f=i.add(f,d),f=i.mul(f,p),l=i.add(l,f),d=i.mul(s,a),d=i.add(d,d),f=i.mul(d,p),u=i.sub(u,f),h=i.mul(d,c),h=i.add(h,h),new N(u,l,h=i.add(h,h))}add(e){S(e);let{X:t,Y:r,Z:n}=this,{X:s,Y:a,Z:u}=e,l=i.ZERO,h=i.ZERO,f=i.ZERO,c=o.a,d=i.mul(o.b,v),p=i.mul(t,s),m=i.mul(r,a),g=i.mul(n,u),y=i.add(t,r),b=i.add(s,a);y=i.mul(y,b),b=i.add(p,m),y=i.sub(y,b),b=i.add(t,n);let w=i.add(s,u);return b=i.mul(b,w),w=i.add(p,g),b=i.sub(b,w),w=i.add(r,n),l=i.add(a,u),w=i.mul(w,l),l=i.add(m,g),w=i.sub(w,l),f=i.mul(c,b),l=i.mul(d,g),f=i.add(l,f),l=i.sub(m,f),f=i.add(m,f),h=i.mul(l,f),m=i.add(p,p),m=i.add(m,p),g=i.mul(c,g),b=i.mul(d,b),m=i.add(m,g),g=i.sub(p,g),g=i.mul(c,g),b=i.add(b,g),p=i.mul(m,b),h=i.add(h,p),p=i.mul(w,b),l=i.mul(y,l),l=i.sub(l,p),p=i.mul(y,m),f=i.mul(w,f),new N(l,h,f=i.add(f,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(N.ZERO)}multiply(e){let r,i;let{endo:n}=t;if(!s.isValidNot0(e))throw Error("invalid scalar: out of range");let o=e=>j.cached(this,e,e=>(0,u.A1)(N,e));if(n){let{k1neg:t,k1:s,k2neg:a,k2:u}=I(e),{p:l,f:h}=o(s),{p:f,f:c}=o(u);i=h.add(c),r=U(n.beta,l,f,t,a)}else{let{p:t,f:n}=o(e);r=t,i=n}return(0,u.A1)(N,[r,i])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!s.isValid(e))throw Error("invalid scalar: out of range");if(e===m||this.is0())return N.ZERO;if(e===g)return this;if(j.hasCache(this))return this.multiply(e);if(!r)return j.unsafe(this,e);{let{k1neg:t,k1:i,k2neg:n,k2:s}=I(e),{p1:o,p2:a}=(0,u.N6)(N,this,i,s);return U(r.beta,o,a,t,n)}}multiplyAndAddUnsafe(e,t,r){let i=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return i.is0()?void 0:i}toAffine(e){return R(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return l===g||(e?e(N,this):j.unsafe(this,f).is0())}clearCofactor(){let{clearCofactor:e}=t;return l===g?this:e?e(N,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(e=!0){return(0,a.po)(e,"isCompressed"),this.assertValidity(),y(N,this,e)}toHex(e=!0){return(0,n.ci)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return(0,u.A1)(N,e)}static msm(e,t){return(0,u.D1)(N,s,e,t)}static fromPrivateKey(e){return N.BASE.multiply(w(s,e))}}N.BASE=new N(o.Gx,o.Gy,i.ONE),N.ZERO=new N(i.ZERO,i.ONE,i.ZERO),N.Fp=i,N.Fn=s;let P=s.BITS,j=new u.Mx(N,t.endo?Math.ceil(P/2):P);return N.BASE.precompute(8),N}(t,r),i,s))})({...e,hash:t});return{...r(t),create:r}}({...x,Fp:k,lowS:!0,endo:M},i.JQ)},9987:function(e,t,r){"use strict";r.d(t,{Dd:function(){return b},EQ:function(){return x},Fy:function(){return v},GB:function(){return a},H9:function(){return M},HV:function(){return g},Hv:function(){return h},S5:function(){return d},Wd:function(){return m},dQ:function(){return w},fA:function(){return E},n$:function(){return _},po:function(){return o},ql:function(){return p},tL:function(){return c},ty:function(){return f},uz:function(){return u}});var i=r(6409);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let n=BigInt(0),s=BigInt(1);function o(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function a(e,t,r=""){let n=(0,i._t)(e),s=e?.length,o=void 0!==t;if(!n||o&&s!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(o?` of length ${t}`:"")+", got "+(n?`length=${s}`:`type=${typeof e}`));return e}function u(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function l(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?n:BigInt("0x"+e)}function h(e){return l((0,i.ci)(e))}function f(e){return(0,i.gk)(e),l((0,i.ci)(Uint8Array.from(e).reverse()))}function c(e,t){return(0,i.nr)(e.toString(16).padStart(2*t,"0"))}function d(e,t){return c(e,t).reverse()}function p(e,t,r){let n;if("string"==typeof t)try{n=(0,i.nr)(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if((0,i._t)(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let s=n.length;if("number"==typeof r&&s!==r)throw Error(e+" of length "+r+" expected, got "+s);return n}function m(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}function g(e){return Uint8Array.from(e)}let y=e=>"bigint"==typeof e&&n<=e;function v(e,t,r,i){if(!(y(t)&&y(r)&&y(i))||!(r<=t)||!(t<i))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}function b(e){let t;for(t=0;e>n;e>>=s,t+=1);return t}let w=e=>(s<<BigInt(e))-s;function _(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),s=e=>Uint8Array.of(e),o=n(e),a=n(e),u=0,l=()=>{o.fill(1),a.fill(0),u=0},h=(...e)=>r(a,o,...e),f=(e=n(0))=>{a=h(s(0),e),o=h(),0!==e.length&&(a=h(s(1),e),o=h())},c=()=>{if(u++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(o=h()).slice();r.push(t),e+=o.length}return(0,i.eV)(...r)};return(e,t)=>{let r;for(l(),f(e);!(r=t(c()));)f();return l(),r}}function E(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function i(t,r,i){let n=e[t];if(i&&void 0===n)return;let s=typeof n;if(s!==r||null===n)throw Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>i(e,t,!1)),Object.entries(r).forEach(([e,t])=>i(e,t,!0))}let x=()=>{throw Error("not implemented")};function M(e){let t=new WeakMap;return(r,...i)=>{let n=t.get(r);if(void 0!==n)return n;let s=e(r,...i);return t.set(r,s),s}}},1881:function(e,t,r){"use strict";r.d(t,{$p:function(){return f},EP:function(){return c},FL:function(){return h},Fn:function(){return v},IH:function(){return g},Iq:function(){return a},NI:function(){return o},Ou:function(){return l},SD:function(){return p},Vl:function(){return s},Xb:function(){return b},ac:function(){return y},gm:function(){return d},m_:function(){return u},mk:function(){return m},pp:function(){return E},u8:function(){return w},zP:function(){return _}});let i=BigInt(4294967296-1),n=BigInt(32);function s(e,t=!1){let r=e.length,s=new Uint32Array(r),o=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l:u}=function(e,t=!1){return t?{h:Number(e&i),l:Number(e>>n&i)}:{h:0|Number(e>>n&i),l:0|Number(e&i)}}(e[a],t);[s[a],o[a]]=[r,u]}return[s,o]}let o=(e,t,r)=>e>>>r,a=(e,t,r)=>e<<32-r|t>>>r,u=(e,t,r)=>e>>>r|t<<32-r,l=(e,t,r)=>e<<32-r|t>>>r,h=(e,t,r)=>e<<64-r|t>>>r-32,f=(e,t,r)=>e>>>r-32|t<<64-r,c=(e,t,r)=>e<<r|t>>>32-r,d=(e,t,r)=>t<<r|e>>>32-r,p=(e,t,r)=>t<<r-32|e>>>64-r,m=(e,t,r)=>e<<r-32|t>>>64-r;function g(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/4294967296|0)|0,l:0|n}}let y=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),v=(e,t,r,i)=>t+r+i+(e/4294967296|0)|0,b=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),w=(e,t,r,i,n)=>t+r+i+n+(e/4294967296|0)|0,_=(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0),E=(e,t,r,i,n,s)=>t+r+i+n+s+(e/4294967296|0)|0},3883:function(e,t,r){"use strict";r.d(t,{JQ:function(){return y},o:function(){return v}});var i=r(6409);class n extends i.kb{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=(0,i.GL)(this.buffer)}update(e){(0,i.$h)(this),e=(0,i.O0)(e),(0,i.gk)(e);let{view:t,buffer:r,blockLen:n}=this,s=e.length;for(let o=0;o<s;){let a=Math.min(n-this.pos,s-o);if(a===n){let t=(0,i.GL)(e);for(;n<=s-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,i.$h)(this),(0,i.eB)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:s}=this,{pos:o}=this;t[o++]=128,(0,i.ru)(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),u=i?4:0,l=i?0:4;e.setUint32(t+u,o,i),e.setUint32(t+l,a,i)}(r,n-8,BigInt(8*this.length),s),this.process(r,0);let a=(0,i.GL)(e),u=this.outputLen;if(u%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=u/4,h=this.get();if(l>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,h[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=n,e.length=i,e.pos=o,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let s=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var a=r(1881);let u=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l=new Uint32Array(64);class h extends n{constructor(e=32){super(64,e,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[e,t,r,i,n,s,o,a]}set(e,t,r,i,n,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)l[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=l[e-15],r=l[e-2],n=(0,i.np)(t,7)^(0,i.np)(t,18)^t>>>3,s=(0,i.np)(r,17)^(0,i.np)(r,19)^r>>>10;l[e]=s+l[e-7]+n+l[e-16]|0}let{A:r,B:n,C:s,D:o,E:a,F:h,G:f,H:c}=this;for(let e=0;e<64;e++){var d,p,m,g;let t=c+((0,i.np)(a,6)^(0,i.np)(a,11)^(0,i.np)(a,25))+((d=a)&h^~d&f)+u[e]+l[e]|0,y=((0,i.np)(r,2)^(0,i.np)(r,13)^(0,i.np)(r,22))+((p=r)&(m=n)^p&(g=s)^m&g)|0;c=f,f=h,h=a,a=o+t|0,o=s,s=n,n=r,r=t+y|0}r=r+this.A|0,n=n+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,h=h+this.F|0,f=f+this.G|0,c=c+this.H|0,this.set(r,n,s,o,a,h,f,c)}roundClean(){(0,i.ru)(l)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,i.ru)(this.buffer)}}let f=a.Vl(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),c=f[0],d=f[1],p=new Uint32Array(80),m=new Uint32Array(80);class g extends n{constructor(e=64){super(128,e,16,!1),this.Ah=0|o[0],this.Al=0|o[1],this.Bh=0|o[2],this.Bl=0|o[3],this.Ch=0|o[4],this.Cl=0|o[5],this.Dh=0|o[6],this.Dl=0|o[7],this.Eh=0|o[8],this.El=0|o[9],this.Fh=0|o[10],this.Fl=0|o[11],this.Gh=0|o[12],this.Gl=0|o[13],this.Hh=0|o[14],this.Hl=0|o[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:s,Dh:o,Dl:a,Eh:u,El:l,Fh:h,Fl:f,Gh:c,Gl:d,Hh:p,Hl:m}=this;return[e,t,r,i,n,s,o,a,u,l,h,f,c,d,p,m]}set(e,t,r,i,n,s,o,a,u,l,h,f,c,d,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|l,this.Fh=0|h,this.Fl=0|f,this.Gh=0|c,this.Gl=0|d,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)p[r]=e.getUint32(t),m[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|p[e-15],r=0|m[e-15],i=a.m_(t,r,1)^a.m_(t,r,8)^a.NI(t,r,7),n=a.Ou(t,r,1)^a.Ou(t,r,8)^a.Iq(t,r,7),s=0|p[e-2],o=0|m[e-2],u=a.m_(s,o,19)^a.FL(s,o,61)^a.NI(s,o,6),l=a.Ou(s,o,19)^a.$p(s,o,61)^a.Iq(s,o,6),h=a.Xb(n,l,m[e-7],m[e-16]),f=a.u8(h,i,u,p[e-7],p[e-16]);p[e]=0|f,m[e]=0|h}let{Ah:r,Al:i,Bh:n,Bl:s,Ch:o,Cl:u,Dh:l,Dl:h,Eh:f,El:g,Fh:y,Fl:v,Gh:b,Gl:w,Hh:_,Hl:E}=this;for(let e=0;e<80;e++){let t=a.m_(f,g,14)^a.m_(f,g,18)^a.FL(f,g,41),x=a.Ou(f,g,14)^a.Ou(f,g,18)^a.$p(f,g,41),M=f&y^~f&b,A=g&v^~g&w,k=a.zP(E,x,A,d[e],m[e]),O=a.pp(k,_,t,M,c[e],p[e]),B=0|k,S=a.m_(r,i,28)^a.FL(r,i,34)^a.FL(r,i,39),I=a.Ou(r,i,28)^a.$p(r,i,34)^a.$p(r,i,39),R=r&n^r&o^n&o,T=i&s^i&u^s&u;_=0|b,E=0|w,b=0|y,w=0|v,y=0|f,v=0|g,({h:f,l:g}=a.IH(0|l,0|h,0|O,0|B)),l=0|o,h=0|u,o=0|n,u=0|s,n=0|r,s=0|i;let U=a.ac(B,I,T);r=a.Fn(U,O,S,R),i=0|U}({h:r,l:i}=a.IH(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:s}=a.IH(0|this.Bh,0|this.Bl,0|n,0|s)),({h:o,l:u}=a.IH(0|this.Ch,0|this.Cl,0|o,0|u)),({h:l,l:h}=a.IH(0|this.Dh,0|this.Dl,0|l,0|h)),({h:f,l:g}=a.IH(0|this.Eh,0|this.El,0|f,0|g)),({h:y,l:v}=a.IH(0|this.Fh,0|this.Fl,0|y,0|v)),({h:b,l:w}=a.IH(0|this.Gh,0|this.Gl,0|b,0|w)),({h:_,l:E}=a.IH(0|this.Hh,0|this.Hl,0|_,0|E)),this.set(r,i,n,s,o,u,l,h,f,g,y,v,b,w,_,E)}roundClean(){(0,i.ru)(p,m)}destroy(){(0,i.ru)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let y=(0,i.V1)(()=>new h),v=(0,i.V1)(()=>new g)},7748:function(e,t,r){"use strict";r.d(t,{JQ:function(){return i}});let i=r(3883).JQ},5609:function(e,t,r){"use strict";r.d(t,{fr:function(){return w}});var i=r(1881),n=r(6409);let s=BigInt(0),o=BigInt(1),a=BigInt(2),u=BigInt(7),l=BigInt(256),h=BigInt(113),f=[],c=[],d=[];for(let e=0,t=o,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],f.push(2*(5*i+r)),c.push((e+1)*(e+2)/2%64);let n=s;for(let e=0;e<7;e++)(t=(t<<o^(t>>u)*h)%l)&a&&(n^=o<<(o<<BigInt(e))-o);d.push(n)}let p=(0,i.Vl)(d,!0),m=p[0],g=p[1],y=(e,t,r)=>r>32?(0,i.SD)(e,t,r):(0,i.EP)(e,t,r),v=(e,t,r)=>r>32?(0,i.mk)(e,t,r):(0,i.gm)(e,t,r);class b extends n.kb{constructor(e,t,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,(0,n.k8)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,n.Jq)(this.state)}clone(){return this._cloneInto()}keccak(){(0,n.Ux)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let i=(t+8)%10,n=(t+2)%10,s=r[n],o=r[n+1],a=y(s,o,1)^r[i],u=v(s,o,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],n=e[3];for(let r=0;r<24;r++){let i=c[r],s=y(t,n,i),o=v(t,n,i),a=f[r];t=e[a],n=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=m[i],e[1]^=g[i]}(0,n.ru)(r)}(this.state32,this.rounds),(0,n.Ux)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.$h)(this),e=(0,n.O0)(e),(0,n.gk)(e);let{blockLen:t,state:r}=this,i=e.length;for(let n=0;n<i;){let s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(128&t)!=0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,n.$h)(this,!1),(0,n.gk)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.k8)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.eB)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,n.ru)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new b(t,r,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}let w=(0,n.V1)(()=>new b(136,1,32))},6409:function(e,t,r){"use strict";r.d(t,{kb:function(){return M},gk:function(){return o},$h:function(){return u},z3:function(){return a},k8:function(){return s},eB:function(){return l},ci:function(){return y},ru:function(){return f},eV:function(){return x},V1:function(){return A},GL:function(){return c},nr:function(){return w},_t:function(){return n},O6:function(){return k},np:function(){return d},Ux:function(){return p},O0:function(){return E},Jq:function(){return h},iY:function(){return _}});let i="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function n(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function o(e,...t){if(!n(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)}function u(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function l(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function h(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function f(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function c(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function d(e,t){return e<<32-t|e>>>t}let p=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}return e},m="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,g=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function y(e){if(o(e),m)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=g[e[r]];return t}let v={_0:48,_9:57,A:65,F:70,a:97,f:102};function b(e){return e>=v._0&&e<=v._9?e-v._0:e>=v.A&&e<=v.F?e-(v.A-10):e>=v.a&&e<=v.f?e-(v.a-10):void 0}function w(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(m)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=b(e.charCodeAt(n)),s=b(e.charCodeAt(n+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+s}return i}function _(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function E(e){return"string"==typeof e&&(e=_(e)),o(e),e}function x(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];o(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}class M{}function A(e){let t=t=>e().update(E(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function k(e=32){if(i&&"function"==typeof i.getRandomValues)return i.getRandomValues(new Uint8Array(e));if(i&&"function"==typeof i.randomBytes)return Uint8Array.from(i.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}},9597:function(e,t,r){"use strict";function i([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}r.d(t,{GH:function(){return f},bP:function(){return l}});var n,s=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){let{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(i).join("&"))}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function o(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}var a=((n=a||{})[n.Little=0]="Little",n[n.Big=1]="Big",n);function u(e){return e?.endian!==1}var l=(e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,i){t.range&&function(e,t,r,i){if(i<t||i>r)throw new s(8078011,{codecDescription:e,max:r,min:t,value:i})}(t.name,t.range[0],t.range[1],e);let n=new ArrayBuffer(t.size);return t.set(new DataView(n),e,u(t.config)),r.set(new Uint8Array(n),i),i+t.size}},encode:e=>{let t=new Uint8Array("fixedSize"in r?r.fixedSize:r.getSizeFromValue(e));return r.write(e,t,0),t}})},h=(e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){!function(e,t,r=0){if(t.length-r<=0)throw new s(8078e3,{codecDescription:e})}(t.name,e,r),function(e,t,r,i=0){let n=r.length-i;if(n<t)throw new s(8078001,{bytesLength:n,codecDescription:e,expected:t})}(t.name,t.size,e,r);let i=new DataView(function(e,t,r){let i=e.byteOffset+(t??0),n=r??e.byteLength;return e.buffer.slice(i,i+n)}(e,r,t.size));return[t.get(i,u(t.config)),r+t.size]}},decode:(e,t=0)=>r.read(e,t)[0]})},f=(e={})=>(function(e,t){if(o(e)!==o(t))throw new s(8078004);if(o(e)&&o(t)&&e.fixedSize!==t.fixedSize)throw new s(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!o(e)&&!o(t)&&e.maxSize!==t.maxSize)throw new s(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(l(e),h(e))},4146:function(e,t,r){"use strict";r.d(t,{v:function(){return i}});var i=r(6729);t.Z=i},1454:function(e,t,r){"use strict";r.d(t,{Ey:function(){return u},XY:function(){return o}});var i=r(8764),n=r(4146),s=class extends n.v{socket;constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){let i=r||t;try{this.socket.send(e),i()}catch(e){i(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function o(e,t){return new s(e,t)}var a=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},u=class extends n.v{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:n=1e3,max_reconnects:s=5,...o}={},u,l){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=n,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=u||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),l?this.dataPack=l:this.dataPack=new a,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,i){return i||"object"!=typeof r||(i=r,r=null),new Promise((n,s)=>{if(!this.ready)return s(Error("socket not ready"));let o=this.generate_request_id(e,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t||void 0,id:o}),i,e=>{if(e)return s(e);this.queue[o]={promise:[n,s]},r&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(Error("reply timeout"))},r))})})}async login(e){let t=await this.call("rpc.login",e);if(!t)throw Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,i)=>{if(!this.ready)return i(Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t}),e=>{if(e)return i(e);r()})})}async subscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=i.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}}},7884:function(e,t,r){"use strict";r.d(t,{AG:function(){return v},G0:function(){return A},IM:function(){return _},IX:function(){return p},O7:function(){return m},Rx:function(){return b},Ue:function(){return h},Yj:function(){return d},Z_:function(){return E},_4:function(){return k},bc:function(){return x},dt:function(){return M},eE:function(){return g},i0:function(){return y},jt:function(){return w},oQ:function(){return O}});class i extends TypeError{constructor(e,t){let r;let{message:i,explanation:n,...s}=e,{path:o}=e,a=0===o.length?i:`At path: ${o.join(".")} -- ${i}`;super(n??a),null!=n&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function n(e){return"object"==typeof e&&null!=e}function s(e){return n(e)&&!Array.isArray(e)}function o(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*a(e,t,r,i){var s;for(let a of(n(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:n,branch:s}=t,{type:a}=r,{refinement:u,message:l=`Expected a value of type \`${a}\`${u?` with refinement \`${u}\``:""}, but received: \`${o(i)}\``}=e;return{value:i,type:a,refinement:u,key:n[n.length-1],path:n,branch:s,...e,message:l}}(a,t,r,i);e&&(yield e)}}function*u(e,t,r={}){let{path:i=[],branch:s=[e],coerce:o=!1,mask:a=!1}=r,l={path:i,branch:s,mask:a};o&&(e=t.coercer(e,l));let h="valid";for(let i of t.validator(e,l))i.explanation=r.message,h="not_valid",yield[i,void 0];for(let[f,c,d]of t.entries(e,l))for(let t of u(c,d,{path:void 0===f?i:[...i,f],branch:void 0===f?s:[...s,c],coerce:o,mask:a,message:r.message}))t[0]?(h=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):o&&(c=t[1],void 0===f?e=c:e instanceof Map?e.set(f,c):e instanceof Set?e.add(c):n(e)&&(void 0!==c||f in e)&&(e[f]=c));if("not_valid"!==h)for(let i of t.refiner(e,l))i.explanation=r.message,h="not_refined",yield[i,void 0];"valid"===h&&(yield[void 0,e])}class l{constructor(e){let{type:t,schema:r,validator:i,refiner:n,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=s,i?this.validator=(e,t)=>a(i(e,t),t,this,e):this.validator=()=>[],n?this.refiner=(e,t)=>a(n(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return function(e,t,r){let i=f(e,t,{message:r});if(i[0])throw i[0]}(e,this,t)}create(e,t){return h(e,this,t)}is(e){return!f(e,this)[0]}mask(e,t){return function(e,t,r){let i=f(e,t,{coerce:!0,mask:!0,message:r});if(!i[0])return i[1];throw i[0]}(e,this,t)}validate(e,t={}){return f(e,this,t)}}function h(e,t,r){let i=f(e,t,{coerce:!0,message:r});if(!i[0])return i[1];throw i[0]}function f(e,t,r={}){let n=u(e,t,r),s=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);return s[0]?[new i(s[0],function*(){for(let e of n)e[0]&&(yield e[0])}),void 0]:[void 0,s[1]]}function c(e,t){return new l({type:e,schema:null,validator:t})}function d(){return c("any",()=>!0)}function p(e){return new l({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,i]of t.entries())yield[r,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${o(e)}`})}function m(){return c("boolean",e=>"boolean"==typeof e)}function g(e){return c("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${o(t)}`)}function y(e){let t=o(e),r=typeof e;return new l({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${o(r)}`})}function v(e){return new l({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function b(){return c("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${o(e)}`)}function w(e){return new l({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function _(e,t){return new l({type:"record",schema:null,*entries(r){if(n(r))for(let i in r){let n=r[i];yield[i,i,e],yield[i,n,t]}},validator:e=>s(e)||`Expected an object, but received: ${o(e)}`,coercer:e=>s(e)?{...e}:e})}function E(){return c("string",e=>"string"==typeof e||`Expected a string, but received: ${o(e)}`)}function x(e){let t=c("never",()=>!1);return new l({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let i=Math.max(e.length,r.length);for(let n=0;n<i;n++)yield[n,r[n],e[n]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${o(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function M(e){let t=Object.keys(e);return new l({type:"type",schema:e,*entries(r){if(n(r))for(let i of t)yield[i,r[i],e[i]]},validator:e=>s(e)||`Expected an object, but received: ${o(e)}`,coercer:e=>s(e)?{...e}:e})}function A(e){let t=e.map(e=>e.type).join(" | ");return new l({type:"union",schema:null,coercer(t,r){for(let i of e){let[e,n]=i.validate(t,{coerce:!0,mask:r.mask});if(!e)return n}return t},validator(r,i){let n=[];for(let t of e){let[...e]=u(r,t,i),[s]=e;if(!s[0])return[];for(let[t]of e)t&&n.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${o(r)}`,...n]}})}function k(){return c("unknown",()=>!0)}function O(e,t,r){return new l({...e,coercer:(i,n)=>f(i,t)[0]?e.coercer(i,n):e.coercer(r(i,n),n)})}}}]);